<!DOCTYPE html><html lang="ja-JP"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><title>開発メモ その206 "VCRemoteClean" タスクは、必要なパラメーター "RemoteRootDirectory" に対して値を指定されていませんでした。 · A certain engineer "COMPLEX"</title><meta name="description" content="意味が分からないエラー

Introduction掲題の通りなんですが、情報が少ないんですよ。問題は、iOSのクロスプラットフォームC＋＋ライブラリをVisual Studioからビルドする際のエラー。

Xamarinの場合はMacホストと接続できていないよ、って教えてくれるのですが、そんな便利機"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/blogcard.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.1.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">A certain engineer &quot;COMPLEX&quot;</a></h3><div class="description"><p>とある技術者の劣等感</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="https://twitter.com/takuya_takeuchi"><i class="fa fa-twitter-square"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.facebook.com/takuya.takeuchi.sns"><i class="fa fa-facebook-square"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="search"><div class="text"><input placeholder="検索ワードを入力してください" id="search-text" onkeypress="javascript:search(event)"></div><div class="btn"><a><i class="fa fa-search"></i></a></div></div><div class="nav"><li><a href="/">ホーム</a></li><li><a href="/archives">アーカイブ</a></li><li><a href="/tags">タグ</a></li><li><a href="/about">自己紹介</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>開発メモ その206 &quot;VCRemoteClean&quot; タスクは、必要なパラメーター &quot;RemoteRootDirectory&quot; に対して値を指定されていませんでした。</a></h3></div><div class="post-content"><p>意味が分からないエラー</p>
<a id="more"></a>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>掲題の通りなんですが、情報が少ないんですよ。<br>問題は、iOSのクロスプラットフォームC＋＋ライブラリをVisual Studioからビルドする際のエラー。</p>
<p><a href="../../../../public/2020/05/44d29d2792be3bad9a9ed98c7bbb20d6.png"><img src="../../../../public/2020/05/44d29d2792be3bad9a9ed98c7bbb20d6.png"></a></p>
<p>Xamarinの場合はMacホストと接続できていないよ、って教えてくれるのですが、そんな便利機能、流石C++。あるわけない。</p>
<p>それで何とか見つけたのが公式。<br>公式が役立つのはかなり久しぶりな気がします。</p>
<div class="blog-card"><div class="hbc-link-wrap"><a class="hbc-link" href="https://docs.microsoft.com/en-us/cpp/cross-platform/install-and-configure-tools-to-build-using-ios?view=vs-2019&redirectedfrom=MSDN#ConfigureVS" target="_blank" rel="nofollow"><div class="hbc-card"><div class="hbc-info"><img class="hbc-favicon" src="http://www.google.com/s2/favicons?domain=docs.microsoft.com"></img><div class="hbc-site-name">docs.microsoft.com</div></div><div class="hbc-contents"><div class="hbc-thumbnail"><img></img></div><div class="hbc-text"><div class="hbc-title">Install and configure tools to build using iOS</div><div class="hbc-url">https://docs.microsoft.com/en-us/cpp/cross-platform/install-and-configure-tools-to-build-using-ios?view=vs-2019&redirectedfrom=MSDN#ConfigureVS</div></div></div></div></a></div></div>

<h1 id="How-to-do"><a href="#How-to-do" class="headerlink" title="How to do?"></a>How to do?</h1><p>要するにビルド環境、つまりMacにつながらないよって、エラーなのですが… プロジェクトの設定ではなく、Visual Studio全体のオプションに答えがあります。</p>
<p>上のオプションで設定できるのですが、まずはMac側で設定が必要です。</p>
<h2 id="1-vcremoteのインストール"><a href="#1-vcremoteのインストール" class="headerlink" title="1. vcremoteのインストール"></a>1. vcremoteのインストール</h2><div class="blog-card"><div class="hbc-link-wrap"><a class="hbc-link" href="https://docs.microsoft.com/en-us/cpp/cross-platform/install-and-configure-tools-to-build-using-ios?view=vs-2019&redirectedfrom=MSDN#Install" target="_blank" rel="nofollow"><div class="hbc-card"><div class="hbc-info"><img class="hbc-favicon" src="http://www.google.com/s2/favicons?domain=docs.microsoft.com"></img><div class="hbc-site-name">docs.microsoft.com</div></div><div class="hbc-contents"><div class="hbc-thumbnail"><img></img></div><div class="hbc-text"><div class="hbc-title">Install and configure tools to build using iOS</div><div class="hbc-url">https://docs.microsoft.com/en-us/cpp/cross-platform/install-and-configure-tools-to-build-using-ios?view=vs-2019&redirectedfrom=MSDN#Install</div></div></div></div></a></div></div>

<p>ここに書いてあるのが、なんと<strong>Node.js</strong>が必要。しかもバージョンが指定されている徹底ぶり。<br>ここは素直に従うべきです。ただでさえ意味不明なエラーが多いiOSのクロスプラットフォームライブラリ作成。<br>余計なことはしないほうが無難です。</p>
<blockquote>
<p>Node.js version 12.14.1 and npm version 6.13.4 Install version 12.14.1 of Node.js on your Mac. If you install the Node.js package, it should come with npm version 6.13.4. Other versions of Node.js and npm may not support some modules used in the remote agent vcremote, which can cause vcremote installation to fail. We recommend you install Node.js by using a package manager such as Node Version Manager. Avoid using the command sudo to install Node.js, as some modules can fail to install when using sudo.</p>
</blockquote>
<p>なので</p>
<ul>
<li>Node.jsは<strong>12.14.1</strong></li>
<li>npmは<strong>6.13.4</strong></li>
<li><strong>nvm</strong>推奨</li>
<li>sudoは使うな ** Homebrew** は注意</li>
</ul>
<p>を守って環境を作ります。</p>
<h3 id="1-1-nvm"><a href="#1-1-nvm" class="headerlink" title="1-1. nvm"></a>1-1. nvm</h3><p>公式のバージョンを調べます。</p>
<div class="blog-card"><div class="hbc-link-wrap"><a class="hbc-link" href="https://github.com/nvm-sh/nvm/releases" target="_blank" rel="nofollow"><div class="hbc-card"><div class="hbc-info"><img class="hbc-favicon" src="http://www.google.com/s2/favicons?domain=github.com"></img><div class="hbc-site-name">GitHub</div></div><div class="hbc-contents"><div class="hbc-thumbnail"><img src="https://avatars2.githubusercontent.com/u/49963700?s=400&v=4"></img></div><div class="hbc-text"><div class="hbc-title">Releases · nvm-sh/nvm</div><div class="hbc-url">https://github.com/nvm-sh/nvm/releases</div><div class="hbc-description">Node Version Manager - POSIX-compliant bash script to manage multiple active node.js versions - nvm-sh/nvm</div></div></div></div></a></div></div>

<p>最新は2020/05/30時点で<strong>v0.35.3</strong>になります。<br>これを利用してMacにビルドに使うユーザでログインし、下記でインストールします。</p>
<script src="https://gist.github.com/takuya-takeuchi/880709966c7c4ecbbc47e1957cfca6f3.js"></script>

<p>インストールが完了すると <strong>.bash_profile</strong> に追加されます。<br>環境変数を反映させインストール出来ているかをチェックします。</p>
<script src="https://gist.github.com/takuya-takeuchi/adabb6efc91568dd882267dd056162cf.js"></script>

<h3 id="1-2-Node-js"><a href="#1-2-Node-js" class="headerlink" title="1-2. Node.js"></a>1-2. Node.js</h3><p><strong>nvm</strong>が入ったので、サクサクインストールします。</p>
<script src="https://gist.github.com/takuya-takeuchi/f971a4d9288318dec66d7844f292859b.js"></script>

<p>これで、npmも指定されたバージョンがインストールされます。</p>
<h3 id="1-3-remote-agent"><a href="#1-3-remote-agent" class="headerlink" title="1-3. remote agent"></a>1-3. remote agent</h3><p>目的のブツです。</p>
<script src="https://gist.github.com/takuya-takeuchi/170dcc3b07b57e16bfa4f8c06a7bfff2.js"></script>

<h2 id="2-vcremote設定"><a href="#2-vcremote設定" class="headerlink" title="2. vcremote設定"></a>2. vcremote設定</h2><p>vcremoteを起動します。初回起動時に色々インストールされます。<br>Xcode 11.5がインストールされるので少し時間がかかります。</p>
<script src="https://gist.github.com/takuya-takeuchi/5b213bcba2a9446d2024919c35b3781b.js"></script>

<p>最後に出力された、</p>
<ul>
<li>Port</li>
<li>Secure</li>
<li>Pin</li>
</ul>
<p>をVisaul Studioに10分以内に入力します。<br><strong>ツール(T) - オプション(O)</strong> から<strong>クロス プラットフォーム - C++ - iOS - ペアリング</strong>を選択し、下記に上述の値を設定します。<br>リモートルートはログインユーザのvcremoteのパスを指定します。</p>
<p><a href="../../../../public/2020/05/847517bd5c442db351fff81e3067d31a-1.png"><img src="../../../../public/2020/05/847517bd5c442db351fff81e3067d31a-1.png"></a></p>
<p>入力後、ペアリングを押下すると正常に接続されたことを示すメッセージが出力されます。</p>
<p><a href="../../../../public/2020/05/3c1ed548fe5ec54df3675251ff33ad70-1.png"><img src="../../../../public/2020/05/3c1ed548fe5ec54df3675251ff33ad70-1.png"></a></p>
<h2 id="3-ビルド"><a href="#3-ビルド" class="headerlink" title="3. ビルド"></a>3. ビルド</h2><p>この状態でiOSのC++プロジェクトをビルドすることが出来るようになりますが、ここで問題が。<br>ビルドに失敗してログに下記のメッセージが出力されている場合があります。</p>
<script src="https://gist.github.com/takuya-takeuchi/e41c666c0f758718480a98be9a692fb0.js"></script>

<p>この場合はMacのGUIにログインし、Xcodeを起動させ、設定画面の<strong>Locations</strong>を開きます。</p>
<p><a href="../../../../public/2020/05/0d40a5e4a645fc6b96e767d64ac0878e.png"><img src="../../../../public/2020/05/0d40a5e4a645fc6b96e767d64ac0878e.png"></a></p>
<p><strong>Command Line Tools</strong>が空になっているので最新のXcodeを選択しXcodeを終了します。<br>この状態で念のため、vcremoteを終了し再度起動します。<br>初回起動以降はペアリングが済んでいれば､何も表示されずすぐに起動されます。<br>起動後、Visual Studioからビルドすると無事に成功するはずです。</p>
<h2 id="4-出力先はどこ？"><a href="#4-出力先はどこ？" class="headerlink" title="4. 出力先はどこ？"></a>4. 出力先はどこ？</h2><p>出力されるはずのバイナリはWindows側ではなくMac側に出力されます。<br>具体的な場所はビルドログを見るとわかります。<br>または出力先に*.recipeファイルがありますので、それをテキストファイルで開きます。</p>
<script src="https://gist.github.com/takuya-takeuchi/38f76c1814fd97ca88f3c4b2469ab05b.js"></script>

<p><strong>BuiltOutputs</strong> に記載されています。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-05-30</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Microsoft/" title="Microsoft">Microsoft </a><a class="tag" href="/categories/Microsoft/Visual-Studio/" title="Visual Studio">Visual Studio </a><a class="tag" href="/categories/Apple/" title="Apple">Apple </a><a class="tag" href="/categories/Apple/iOS/" title="iOS">iOS </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://takuya-takeuchi.github.io/2020/05/30/4335/,A certain engineer &quot;COMPLEX&quot;,開発メモ その206 &quot;VCRemoteClean&quot; タスクは、必要なパラメーター &quot;RemoteRootDirectory&quot; に対して値を指定されていませんでした。,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2020/05/30/4353/" title="開発メモ その207 OpenCVのiOS 静的ライブラリからUniversal Static Libraryを作成する">前へ</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2020/05/23/4326/" title="開発メモ その205 LinuxでCPU脆弱性対策を無効にしてみる">次へ</a></li></ul></div></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/search.js"></script></body></html>