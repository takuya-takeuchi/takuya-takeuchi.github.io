<!DOCTYPE html><html lang="ja-JP"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><title>.NETでLinuxと遊んでみる JetBrains Rider編 第1回 · A certain engineer "COMPLEX"</title><meta name="description" content="Introduction前回はJetBrains Rider 2017.1をインストールしました。 


今回はプロジェクトを作成します。
PreparationまずはRiderを起動し、New solutionを選択。
プロジェクトの作成ダイアログが表示されます。
.NET Core Projec"><meta name="keywords" content="极限博客,极限Blog,博客,极限"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.1.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">A certain engineer &quot;COMPLEX&quot;</a></h3><div class="description"><p>心之所愿，无事不成。<br> Nothing is impossible to a willing heart.</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/mrcore"><i class="fa fa-github"></i></a></li><li><a href="mailto:x@jixian.io"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="http://sighttp.qq.com/authd?IDKEY="><i class="fa fa-qq"></i></a></li><li><a target="_blank" rel="noopener" href="https://zhihu.com/people/"><i class="fa fa-mortar-board"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2017 - 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">ホーム</a></li><li><a href="/archives">アーカイブ</a></li><li><a href="/tags">タグ</a></li><li><a href="/about">自己紹介</a></li><li><a href="/guestbook">メッセージ</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>.NETでLinuxと遊んでみる JetBrains Rider編 第1回</a></h3></div><div class="post-content"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>前回は<strong>JetBrains Rider 2017.1</strong>をインストールしました。 </p>


<p>今回はプロジェクトを作成します。</p>
<h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><p>まずはRiderを起動し、<strong>New solution</strong>を選択。<br><a href="../../../../public/2017/05/7cfeff4406b5f875ee1fc04c0c688b3b.png"><img src="../../../../public/2017/05/7cfeff4406b5f875ee1fc04c0c688b3b.png"></a></p>
<p>プロジェクトの作成ダイアログが表示されます。<br><a href="../../../../public/2017/05/621e54d42676e3a41e502043def15564.png"><img src="../../../../public/2017/05/621e54d42676e3a41e502043def15564.png"></a></p>
<p><strong>.NET Core Project</strong>を選択します。 しかし、.NET Coreがインストールされていないことが通知されますので、Riderを終了して、.NET Coreをインストールします。<br><a href="../../../../public/2017/05/b10f28f4052643d32e72fd0bf4acff80.png"><img src="../../../../public/2017/05/b10f28f4052643d32e72fd0bf4acff80.png"></a></p>
<p>表示されていた<a target="_blank" rel="noopener" href="https://www.microsoft.com/net/download/core">https://www.microsoft.com/net/download/core</a>に移動し、Linuxへのインストール方法をチェックします。</p>
<h2 id="Install-NET-Core"><a href="#Install-NET-Core" class="headerlink" title="Install .NET Core"></a>Install .NET Core</h2><p>RHELへのパッケージインストール方法が記載されていますので、その通り実行します。 しかし 結論から言えば、<a target="_blank" rel="noopener" href="https://www.microsoft.com/net/download/core">https://www.microsoft.com/net/download/core</a>では、ダメです。 例えば、インストールコマンドを入力すると、 [code lang=”sh”] $ sudo yum install rh-dotnetcore10 読み込んだプラグイン:langpacks, product-id, search-disabled-repos, subscription-manager Repo rhel-rs-for-rhel-7-server-eus-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-7-server-extras-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-ha-for-rhel-7-server-eus-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-7-server-eus-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-7-server-rt-beta-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-rs-for-rhel-7-server-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-ha-for-rhel-7-server-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-7-server-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem Repo rhel-7-server-rt-rpms forced skip_if_unavailable=True due to: /etc/pki/entitlement/7836591386407218947-key.pem <a target="_blank" rel="noopener" href="https://cdn.redhat.com/content/beta/rhel/server/7/x86/_64/rt/os/repodata/repomd.xml">https://cdn.redhat.com/content/beta/rhel/server/7/x86\_64/rt/os/repodata/repomd.xml</a>: [Errno 14] curl#58 - “unable to load client key: -8178 (SEC_ERROR_BAD_KEY)” 他のミラーを試します。 警告: 一致するものが見つかりません: dotnetcore No matches found [/code] パッケージが見つかりません。 実は、RHELの場合、これだけではダメで、サブスクリプションを再登録し、リポジトリへ.NET Coreのチャネルを登録する必要があります。 <a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-us/net_core/1.0/html/getting_started_guide/gs_install_dotnet">CHAPTER 1. INSTALL .NET CORE 1.0 ON RED HAT ENTERPRISE LINUX</a> また、Riderが対応する.NET Coreは1.1です。 これを踏まえて説明します。</p>
<h3 id="サブスクリプションの再登録"><a href="#サブスクリプションの再登録" class="headerlink" title="サブスクリプションの再登録"></a>サブスクリプションの再登録</h3><p>[code lang=”sh”] $ subscription-manager unregister $ subscription-manager clean # RedHatのアカウントを入力 $ subscription-manager register 登録中: subscription.rhsm.redhat.com:443/subscription ユーザー名: <a href="mailto:&#88;&#x58;&#88;&#64;&#x59;&#89;&#89;&#x2e;&#x5a;&#x5a;&#x5a;">&#88;&#x58;&#88;&#64;&#x59;&#89;&#89;&#x2e;&#x5a;&#x5a;&#x5a;</a> パスワード: このシステムは次の ID で登録されました: XXXXXXXX-YYYY-ZZZZ-AAAA-BBBBCCCCDDDD # 日本語環境なら、subscription-manager list –available | egrep “サブスクリプション名|プール ID” $ subscription-manager list –available | egrep “Subscription Name|Pool” サブスクリプション名: Red Hat Enterprise Linux Developer Suite プール ID: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX subscription-manager attach –pool=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX サブスクリプションが正しく割り当てられました: Red Hat Enterprise Linux Developer Suite [/code]</p>
<h3 id="リポジトリの登録"><a href="#リポジトリの登録" class="headerlink" title="リポジトリの登録"></a>リポジトリの登録</h3><p>[code lang=”sh”] # workstationなら -server- を -workstation- に変更 $ subscription-manager repos –enable=rhel-7-server-dotnet-rpms # ついでにベータのリポジトリを無効 $ subscription-manager repos –disable=rhel-7-server-rt-beta-rpms [/code]</p>
<h3 id="scl-utilsのインストール"><a href="#scl-utilsのインストール" class="headerlink" title="scl-utilsのインストール"></a>scl-utilsのインストール</h3><p>[code lang=”sh”] $ yum install scl-utils [/code]</p>
<h3 id="NET-Coreのインストール"><a href="#NET-Coreのインストール" class="headerlink" title=".NET Coreのインストール"></a>.NET Coreのインストール</h3><p>.NET Core 1.1をインストールします。</p>
<ul>
<li>誤) <strong>dotnetcore10</strong></li>
<li>正) <strong>dotnetcore11</strong></li>
</ul>
<p>です。 [code lang=”sh”] $ yum install rh-dotnetcore11 -y [/code]</p>
<h3 id="NET-Coreの有効化"><a href="#NET-Coreの有効化" class="headerlink" title=".NET Coreの有効化"></a>.NET Coreの有効化</h3><p>まだこの状態では.NET Coreは使えません。下記のコマンドを実行して、.NET Coreを有効化します。 [code lang=”sh”] $ scl enable rh-dotnetcore11 bash [/code] 上記コマンド実行後、同一のシェルのみで、<strong>dotnet</strong>が使えます。 逆を言えば、別のシェルを立ち上げても、<strong>dotnet</strong>は使えません。 毎回、上記コマンドを実行するのは面倒なので、 [code lang=”sh”] $ source scl_source enable rh-dotnetcore11 [/code] を実行すれば良い、と前述のRedhatのページに書いてあるのですが、何故か効果がありません。 なので、シェルを立ち上げる際に、毎回自動で実行されるよう、**~/.bashrc**にコマンドを追記します。 [code lang=”sh”] $ su - $ vi ~/.bashrc [/code] viを起動し、末尾に [code lang=”sh”] source scl_source enable rh-dotnetcore10 [/code] を追記します。 そして、シェルを立ち上げ直して、dotnetのバージョンを確認します。 [code lang=”sh”] $ dotnet –version 1.0.0-preview2-1-003177 [/code]</p>
<h2 id="Install-Mono"><a href="#Install-Mono" class="headerlink" title="Install Mono"></a>Install Mono</h2><h3 id="Extra-Packages-for-Enterprise-Linuxの追加"><a href="#Extra-Packages-for-Enterprise-Linuxの追加" class="headerlink" title="Extra Packages for Enterprise Linuxの追加"></a>Extra Packages for Enterprise Linuxの追加</h3><p>[code lang=”sh”] $ cd ~/ $ wget <a target="_blank" rel="noopener" href="http://ftp-srv2.kddilabs.jp/Linux/distributions/fedora/epel/7/x86/_64/e/epel-release-7-9.noarch.rpm">http://ftp-srv2.kddilabs.jp/Linux/distributions/fedora/epel/7/x86\_64/e/epel-release-7-9.noarch.rpm</a> $ rpm -ivh epel-release-7-9.noarch.rpm $ rm epel-release-7-9.noarch.rpm [/code]</p>
<h1 id="yum-install-yum-utils"><a href="#yum-install-yum-utils" class="headerlink" title="yum install yum-utils"></a>yum install yum-utils</h1><h4 id="Mono-4-8"><a href="#Mono-4-8" class="headerlink" title="Mono 4.8"></a>Mono 4.8</h4><p>[code lang=”sh”] # rpm –import “<a target="_blank" rel="noopener" href="http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot;">http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot;</a> # yum-config-manager –add-repo <a target="_blank" rel="noopener" href="http://download.mono-project.com/repo/centos/">http://download.mono-project.com/repo/centos/</a> [/code]</p>
<h4 id="Mono-5-0"><a href="#Mono-5-0" class="headerlink" title="Mono 5.0"></a>Mono 5.0</h4><p>[code lang=”sh”] # rpm –import “<a target="_blank" rel="noopener" href="http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot;">http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot;</a> # yum-config-manager –add-repo <a target="_blank" rel="noopener" href="http://download.mono-project.com/repo/centos7/">http://download.mono-project.com/repo/centos7/</a> [/code]</p>
<h3 id="Mono"><a href="#Mono" class="headerlink" title="Mono"></a>Mono</h3><p>[code lang=”sh”] yum install mono-complete -y<br>mono –version Mono JIT compiler version 5.0.0 (Stable 5.0.0.100/9667aa6 Thu May 11 10:16:39 UTC 2017) Copyright (C) 2002-2014 Novell, Inc, Xamarin Inc and Contributors. <a target="_blank" rel="noopener" href="http://www.mono-project.com/">www.mono-project.com</a> TLS: __thread SIGSEGV: altstack Notifications: epoll Architecture: amd64 Disabled: none Misc: softdebug LLVM: supported, not enabled. GC: sgen (concurrent by default) [/code]</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-05-22</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Microsoft/" title="Microsoft">Microsoft </a><a class="tag" href="/categories/Microsoft/NET/" title=".NET">.NET </a><a class="tag" href="/categories/Linux/" title="Linux">Linux </a><a class="tag" href="/categories/net-framework/" title="net-framework">net-framework </a><a class="tag" href="/categories/linux/" title="linux">linux </a><a class="tag" href="/categories/Microsoft/NET/NET-Framework/" title=".NET Framework">.NET Framework </a><a class="tag" href="/categories/net-framework/NETで○○○を試してみる/" title=".NETで○○○を試してみる">.NETで○○○を試してみる </a><a class="tag" href="/categories/linux/Red-Hat-Enterprise-Linux/" title="Red Hat Enterprise Linux">Red Hat Enterprise Linux </a><a class="tag" href="/categories/netで○○○を試してみる/" title="netで○○○を試してみる">netで○○○を試してみる </a><a class="tag" href="/categories/net/" title="net">net </a><a class="tag" href="/categories/JetBrains/" title="JetBrains">JetBrains </a><a class="tag" href="/categories/net/NET-Core/" title=".NET Core">.NET Core </a><a class="tag" href="/categories/netで○○○を試してみる/NETでLinuxと遊んでみる/" title=".NETでLinuxと遊んでみる">.NETでLinuxと遊んでみる </a><a class="tag" href="/categories/jetbrains/" title="jetbrains">jetbrains </a><a class="tag" href="/categories/jetbrains/Rider/" title="Rider">Rider </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://takuya-takeuchi.github.io/2017/05/22/2350/,A certain engineer &quot;COMPLEX&quot;,.NETでLinuxと遊んでみる JetBrains Rider編 第1回,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2017/05/22/2366/" title=".NETでLinuxと遊んでみる Visual Studio Code編 第0回">前へ</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2017/05/16/2387/" title="開発メモ その70 Red Hat Enterprise Linux 7.3で端末での大文字小文字区別を無効にする">次へ</a></li></ul></div></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script></body></html>