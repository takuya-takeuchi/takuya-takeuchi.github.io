<!DOCTYPE html><html lang="ja-JP"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><link rel="icon" href="/images/favicon.ico" type="image/x-icon"><title>開発メモ その90 Visual Studio Code on WindowsでCMakeを使うとエラーになる · A certain engineer "COMPLEX"</title><meta name="description" content="Problem最新のCMake 3.9.2が悪いのか、Visual Studio CodeでCMakeを使おうとするとエラーになります。WindowsのVisual Studio CodeでCmakeを使うという記事はたくさんあります。
QiitaVSCodeでC++デバッグ(Windows) - "><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/blogcard.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.1.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.webp" style="width:127px;"><h3 title=""><a href="/">A certain engineer &quot;COMPLEX&quot;</a></h3><div class="description"><p>とある技術者の劣等感</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="https://twitter.com/takuya_takeuchi"><i class="fa fa-twitter-square"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.facebook.com/takuya.takeuchi.sns"><i class="fa fa-facebook-square"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="search"><div class="text"><input placeholder="検索ワードを入力してください" id="search-text" onkeypress="javascript:search(event)"></div><div class="btn"><a><i class="fa fa-search"></i></a></div></div><div class="nav"><li><a href="/">ホーム</a></li><li><a href="/archives">アーカイブ</a></li><li><a href="/apps">Apps</a></li><li><a href="/about">自己紹介</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>開発メモ その90 Visual Studio Code on WindowsでCMakeを使うとエラーになる</a></h3></div><div class="post-content"><h1 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h1><p>最新の<strong>CMake 3.9.2</strong>が悪いのか、<strong>Visual Studio Code</strong>でCMakeを使おうとするとエラーになります。<br>WindowsのVisual Studio CodeでCmakeを使うという記事はたくさんあります。</p>
<div class="blog-card"><div class="hbc-link-wrap"><a class="hbc-link" href="http://qiita.com/bigengelt/items/e4c6f08003fe15988b7d" target="_blank" rel="nofollow"><div class="hbc-card"><div class="hbc-info"><img class="hbc-favicon" src="http://www.google.com/s2/favicons?domain=qiita.com"></img><div class="hbc-site-name">Qiita</div></div><div class="hbc-contents"><div class="hbc-thumbnail"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-user-contents.imgix.net%2Fhttps%253A%252F%252Fcdn.qiita.com%252Fassets%252Fpublic%252Farticle-ogp-background-afbab5eb44e0b055cce1258705637a91.png%3Fixlib%3Drb-4.0.0%26w%3D1200%26blend64%3DaHR0cHM6Ly9xaWl0YS11c2VyLXByb2ZpbGUtaW1hZ2VzLmltZ2l4Lm5ldC9odHRwcyUzQSUyRiUyRnFpaXRhLWltYWdlLXN0b3JlLnMzLmFtYXpvbmF3cy5jb20lMkYwJTJGNjYwMjklMkZwcm9maWxlLWltYWdlcyUyRjE0NzM2OTcwNzk_aXhsaWI9cmItNC4wLjAmYXI9MSUzQTEmZml0PWNyb3AmbWFzaz1lbGxpcHNlJmJnPUZGRkZGRiZmbT1wbmczMiZzPTkzYzgxOTExZmJjODhmYjRmZTMzOTdhMDI0ZTdiYWRm%26blend-x%3D120%26blend-y%3D467%26blend-w%3D82%26blend-h%3D82%26blend-mode%3Dnormal%26s%3D3215cf47c203a40dbfaab00ec81b233e?ixlib=rb-4.0.0&w=1200&fm=jpg&mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTk2MCZoPTMyNCZ0eHQ9VlNDb2RlJUUzJTgxJUE3QyUyQiUyQiVFMyU4MyU4NyVFMyU4MyU5MCVFMyU4MyU4MyVFMyU4MiVCMCUyOFdpbmRvd3MlMjkmdHh0LWFsaWduPWxlZnQlMkN0b3AmdHh0LWNvbG9yPSUyMzFFMjEyMSZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NiZ0eHQtcGFkPTAmcz0xYTRjMTM4NDhkNjRiZjJlOTk1NzhiMmI2MzFkMmIyYg&mark-x=120&mark-y=112&blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTgzOCZoPTU4JnR4dD0lNDBiaWdlbmdlbHQmdHh0LWNvbG9yPSUyMzFFMjEyMSZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT0zNiZ0eHQtcGFkPTAmcz04MDEzNDY5ZTAzOTNkZDA1MDdiMTZjYjUxNzM2YjRiYQ&blend-x=242&blend-y=480&blend-w=838&blend-h=46&blend-fit=crop&blend-crop=left%2Cbottom&blend-mode=normal&s=cd17d2efc127beadbde2a70591490592"></img></div><div class="hbc-text"><div class="hbc-title">VSCodeでC++デバッグ(Windows) - Qiita</div><div class="hbc-url">http://qiita.com/bigengelt/items/e4c6f08003fe15988b7d</div><div class="hbc-description">概要 Visual Studio Codeを使ってVC++のデバッグ＋ビルドを行う方法 CMakeの使い方等はこの記事には載せませんので注意してください。 また、記事に対するもっと良い方法等があれば是非コメントをお願い致します。 拡張機能インストール ↓の拡張機能をイン...</div></div></div></div></a></div></div>

<p>が、それでも上手くいかない。<br>Lixnuでは既に自分でも試しており楽勝のはずだったのですが… </p>


<p>具体的には、 </p>
<p><a href="../../../../public/2017/09/acbabd5460f36a5f5ebd33f54fb0649a.png"><img src="../../../../public/2017/09/acbabd5460f36a5f5ebd33f54fb0649a-1024x697.png"></a></p>
<p> <strong>Started new CMake Server instance with PID 13456 Build program for generator Ninja is not found. Skipping… Build program for generator Unix Makefiles is not found. Skipping… None of preferred generators available on the system.</strong></p>
<p> というエラーが出力されております。</p>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p><strong>CMake tools</strong> のIssueにヒントがありました。</p>
<div class="blog-card"><div class="hbc-link-wrap"><a class="hbc-link" href="https://github.com/vector-of-bool/vscode-cmake-tools/issues/132" target="_blank" rel="nofollow"><div class="hbc-card"><div class="hbc-info"><img class="hbc-favicon" src="http://www.google.com/s2/favicons?domain=github.com"></img><div class="hbc-site-name">GitHub</div></div><div class="hbc-contents"><div class="hbc-thumbnail"><img src="https://opengraph.githubassets.com/437daed76ceeccbdd522f87b08bb70fbbacce50f82a135d7a626ce42c7c8fada/microsoft/vscode-cmake-tools/issues/132"></img></div><div class="hbc-text"><div class="hbc-title">CMake server: Unable to determine CMake Generator to use · Issue #132 · microsoft/vscode-cmake-tools</div><div class="hbc-url">https://github.com/vector-of-bool/vscode-cmake-tools/issues/132</div><div class="hbc-description">After upgrading my cmake install to 3.7.2, enabling the cmake server option in the vs code settings, and restarting vs code, I get the messa…</div></div></div></div></a></div></div>

<p>エラー出力にもありますが、<strong>Ninja</strong>が存在しない、って言っているのでそれをインストールします。</p>
<h2 id="What-is-Ninja"><a href="#What-is-Ninja" class="headerlink" title="What is Ninja?"></a>What is Ninja?</h2><p>Ninjaはスピードに特化した小型のビルドツールとのこと。<br>私はよくわからないので、詳しいことはググってください。</p>
<div class="blog-card"><div class="hbc-link-wrap"><a class="hbc-link" href="https://github.com/ninja-build/ninja" target="_blank" rel="nofollow"><div class="hbc-card"><div class="hbc-info"><img class="hbc-favicon" src="http://www.google.com/s2/favicons?domain=github.com"></img><div class="hbc-site-name">GitHub</div></div><div class="hbc-contents"><div class="hbc-thumbnail"><img src="https://opengraph.githubassets.com/d1cb001ce3383fc3b5a1774565aac837996e4a017b266694e3e3f79c04704dfc/ninja-build/ninja"></img></div><div class="hbc-text"><div class="hbc-title">GitHub - ninja-build/ninja: a small build system with a focus on speed</div><div class="hbc-url">https://github.com/ninja-build/ninja</div><div class="hbc-description">a small build system with a focus on speed. Contribute to ninja-build/ninja development by creating an account on GitHub.</div></div></div></div></a></div></div>

<p>とりあえず、Githubのリリースから最新のバイナリをダウンロードして適当なフォルダに配置します。</p>
<h2 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h2><p>続いて、Visual Studio Codeの設定に、下記のような内容を記述します。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;cmake.generator&quot;</span>: <span class="string">&quot;Ninja&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;cmake.configureSettings&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;CMAKE_MAKE_PROGRAM&quot;</span>: <span class="string">&quot;D:/Works/Lib/Ninja/1.8.2/ninja.exe&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>設定後、Visual Studio Codeを再起動し、いつものように<strong>Cake: Quick Start</strong> 的な感じで始めることが出来るようになっているはずです。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-09-17</span><i class="fa fa-tag"></i><a class="tag" href="/categories/その他/" title="その他">その他 </a><a class="tag" href="/categories/その他/CMake/" title="CMake">CMake </a><a class="tag" href="/categories/その他/CMake/Microsoft/" title="Microsoft">Microsoft </a><a class="tag" href="/categories/その他/CMake/Microsoft/Visual-Studio-Code/" title="Visual Studio Code">Visual Studio Code </a><a class="tag" href="/categories/その他/CMake/Microsoft/Visual-Studio-Code/その他/" title="その他">その他 </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://takuya-takeuchi.github.io/2017/09/17/2664/,A certain engineer &quot;COMPLEX&quot;,開発メモ その90 Visual Studio Code on WindowsでCMakeを使うとエラーになる,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2017/09/20/2670/" title="開発メモ その91 WindowsでMiniconda2と3を共存させる">前へ</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2017/08/26/2498/" title="開発メモ その89 dlibの顔検出性能をCUDA ON/OFFで比較">次へ</a></li></ul></div></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/search.js"></script></body></html>