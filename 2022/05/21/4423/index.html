<!DOCTYPE html><html lang="ja-JP"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><link rel="icon" href="/images/favicon.ico" type="image/x-icon"><title>開発メモ その264 Sentry を味見してみる · A certain engineer "COMPLEX"</title><meta name="description" content="Introductionクラッシュレポートを集めたりフィードバックを管理するサービス HockeyApp というのがあった。Microsoft に買収されたあと、自社のプロダクト Visual Studio App Center に吸収されて消えてしまった。こういうのはいつも通りのことだが。
そうい"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/blogcard.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.1.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.webp" style="width:127px;"><h3 title=""><a href="/">A certain engineer &quot;COMPLEX&quot;</a></h3><div class="description"><p>とある技術者の劣等感</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="https://twitter.com/takuya_takeuchi"><i class="fa fa-twitter-square"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.facebook.com/takuya.takeuchi.sns"><i class="fa fa-facebook-square"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="search"><div class="text"><input placeholder="検索ワードを入力してください" id="search-text" onkeypress="javascript:search(event)"></div><div class="btn"><a><i class="fa fa-search"></i></a></div></div><div class="nav"><li><a href="/">ホーム</a></li><li><a href="/archives">アーカイブ</a></li><li><a href="/tags">タグ</a></li><li><a href="/about">自己紹介</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>開発メモ その264 Sentry を味見してみる</a></h3></div><div class="post-content"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>クラッシュレポートを集めたりフィードバックを管理するサービス <strong>HockeyApp</strong> というのがあった。<br>Microsoft に買収されたあと、<a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/archive/blogs/mssvrpmj/cloud-platform-release-announcements-for-november-28th-2018">自社のプロダクト <strong>Visual Studio App Center</strong> に吸収されて消えてしまった</a>。<br>こういうのはいつも通りのことだが。</p>
<p>そういうクラッシュレポートを管理する仕組みあれば便利だと思ったので、少し調べたら最近は</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://sentry.io/">Sentry</a></li>
<li><a target="_blank" rel="noopener" href="https://rollbar.com/">Rollbar</a></li>
<li><a target="_blank" rel="noopener" href="https://airbrake.io/">Airbrake</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bugsnag.com/">Bugsnag</a></li>
</ul>
<p>とかある模様。</p>
<p>そんな中でそこそこ日本語の記事があった <strong>Sentry</strong> を味見した。<br>あと、UI の見た目が Sentry が一番イケてるのもある。これ大事。</p>
<p>サンプルソースは、**<a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi/Demo/tree/master/Sentry/01_Simple">GitHub</a>** に置きました。</p>
<h1 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use?"></a>How to use?</h1><p>公式で docker を提供しているので、Windows にインストールする。<br>必要なのは</p>
<ul>
<li>Windows Subsystem for Linux 2</li>
<li>Docker desktop<ul>
<li>Docker 19.03.6+</li>
<li>Compose 1.28.0+</li>
</ul>
</li>
</ul>
<p>が最低限。<br>Python3 もいるかも。</p>
<h2 id="コンテナを作る"><a href="#コンテナを作る" class="headerlink" title="コンテナを作る"></a>コンテナを作る</h2><p>docker は github からクローンして持ってくる。<br>Dockerhub はなんか deprecated になっている。</p>
<div class="blog-card"><div class="hbc-link-wrap"><a class="hbc-link" href="https://github.com/getsentry/self-hosted" target="_blank" rel="nofollow"><div class="hbc-card"><div class="hbc-info"><img class="hbc-favicon" src="http://www.google.com/s2/favicons?domain=github.com"></img><div class="hbc-site-name">GitHub</div></div><div class="hbc-contents"><div class="hbc-thumbnail"><img src="https://repository-images.githubusercontent.com/51547791/3f1ae880-3f25-11eb-9f63-cf2d9860e2ad"></img></div><div class="hbc-text"><div class="hbc-title">GitHub - getsentry/self-hosted: Sentry, feature-complete and packaged up for low-volume deployments and proofs-of-concept</div><div class="hbc-url">https://github.com/getsentry/self-hosted</div><div class="hbc-description">Sentry, feature-complete and packaged up for low-volume deployments and proofs-of-concept - GitHub - getsentry/self-hosted: Sentry, feature-…</div></div></div></div></a></div></div>

<p>クローンしたら、Linux シェルを起動して、下記のように実行する。<br><code>--skip-user-promp</code> をつけないと、インストール中に管理者ユーザの作成について、質問される。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> self-hosted</span><br><span class="line">$ ./install.sh --skip-user-prompt</span><br><span class="line">▶ Parsing <span class="built_in">command</span> line ...</span><br><span class="line"></span><br><span class="line">▶ Initializing Docker Compose ...</span><br><span class="line"></span><br><span class="line">▶ Setting up error handling ...</span><br><span class="line"></span><br><span class="line">▶ Checking <span class="keyword">for</span> latest commit ...</span><br><span class="line">skipped</span><br><span class="line"></span><br><span class="line">▶ Checking minimum requirements ...</span><br><span class="line">Found Docker version 20.10.14</span><br><span class="line">Found Docker Compose version 2.4.1</span><br><span class="line">Unable to find image <span class="string">&#x27;busybox:latest&#x27;</span> locally</span><br><span class="line">latest: Pulling from library/busybox</span><br><span class="line">50e8d59317eb: Pulling fs layer</span><br><span class="line">50e8d59317eb: Verifying Checksum</span><br><span class="line">50e8d59317eb: Download complete</span><br><span class="line">50e8d59317eb: Pull complete</span><br><span class="line">Digest: sha256:d2b53584f580310186df7a2055ce3ff83cc0df6caacf1e3489bff8cf5d0af5d8</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> busybox:latest</span><br><span class="line"></span><br><span class="line">▶ Turning things off ...</span><br><span class="line">sentry-self-hosted  Warning: No resource found to remove</span><br><span class="line">sentry_onpremise  Warning: No resource found to remove</span><br><span class="line"></span><br><span class="line">▶ Creating volumes <span class="keyword">for</span> persistent storage ...</span><br><span class="line">Created sentry-clickhouse.</span><br><span class="line">Created sentry-data.</span><br><span class="line">Created sentry-kafka.</span><br><span class="line">Created sentry-postgres.</span><br><span class="line">Created sentry-redis.</span><br><span class="line">Created sentry-symbolicator.</span><br><span class="line">Created sentry-zookeeper.</span><br><span class="line"></span><br><span class="line">▶ Ensuring files from examples ...</span><br><span class="line">Creating ../sentry/sentry.conf.py...</span><br><span class="line">Creating ../sentry/config.yml...</span><br><span class="line">Creating ../symbolicator/config.yml...</span><br><span class="line">Creating ../sentry/requirements.txt...</span><br><span class="line"></span><br><span class="line">▶ Ensuring Relay credentials ...</span><br><span class="line">Creating ../relay/config.yml...</span><br><span class="line">relay Pulling</span><br><span class="line">c32ce6654453 Pulling fs layer</span><br><span class="line">f43a1064aeac Pulling fs layer</span><br><span class="line">d34b02acf618 Pulling fs layer</span><br><span class="line">13e8a56469ec Pulling fs layer</span><br><span class="line">38dee6f9a35a Pulling fs layer</span><br><span class="line">4270e2b619a4 Pulling fs layer</span><br><span class="line">aeab01cd6e68 Pulling fs layer</span><br><span class="line">13e8a56469ec Waiting</span><br><span class="line">4270e2b619a4 Waiting</span><br><span class="line">38dee6f9a35a Waiting</span><br><span class="line">f43a1064aeac Downloading [&gt;                                                  ]  51.93kB/5.132MB</span><br><span class="line">c32ce6654453 Downloading [&gt;                                                  ]  272.8kB/27.14MB</span><br><span class="line">d34b02acf618 Downloading [=======&gt;                                           ]     658B/4.598kB</span><br><span class="line">d34b02acf618 Downloading [==================================================&gt;]  4.598kB/4.598kB</span><br><span class="line">d34b02acf618 Verifying Checksum</span><br><span class="line">d34b02acf618 Download complete</span><br><span class="line">f43a1064aeac Downloading [=====&gt;                                             ]  535.8kB/5.132MB</span><br><span class="line">c32ce6654453 Downloading [==&gt;                                                ]  1.395MB/27.14MB</span><br><span class="line">f43a1064aeac Downloading [==============&gt;                                    ]  1.453MB/5.132MB</span><br><span class="line">c32ce6654453 Downloading [=====&gt;                                             ]  3.062MB/27.14MB</span><br><span class="line">f43a1064aeac Downloading [====================&gt;                              ]    2.1MB/5.132MB</span><br><span class="line">c32ce6654453 Downloading [========&gt;                                          ]  4.455MB/27.14MB</span><br><span class="line">f43a1064aeac Downloading [============================&gt;                      ]  2.882MB/5.132MB</span><br><span class="line">c32ce6654453 Downloading [==========&gt;                                        ]  5.847MB/27.14MB</span><br><span class="line">f43a1064aeac Downloading [===================================&gt;               ]  3.603MB/5.132MB</span><br><span class="line">c32ce6654453 Downloading [=============&gt;                                     ]  7.248MB/27.14MB</span><br><span class="line">f43a1064aeac Downloading [==========================================&gt;        ]  4.324MB/5.132MB</span><br><span class="line">f43a1064aeac Verifying Checksum</span><br><span class="line">c32ce6654453 Downloading [===============&gt;                                   ]  8.653MB/27.14MB</span><br><span class="line">c32ce6654453 Downloading [====================&gt;                              ]  10.89MB/27.14MB</span><br><span class="line">c32ce6654453 Downloading [=========================&gt;                         ]  13.69MB/27.14MB</span><br><span class="line">c32ce6654453 Downloading [=============================&gt;                     ]  16.21MB/27.14MB</span><br><span class="line">c32ce6654453 Downloading [=================================&gt;                 ]  18.44MB/27.14MB</span><br><span class="line">c32ce6654453 Downloading [=======================================&gt;           ]  21.24MB/27.14MB</span><br><span class="line">c32ce6654453 Downloading [===========================================&gt;       ]  23.47MB/27.14MB</span><br><span class="line">c32ce6654453 Downloading [==============================================&gt;    ]  25.41MB/27.14MB</span><br><span class="line">c32ce6654453 Verifying Checksum</span><br><span class="line">c32ce6654453 Download complete</span><br><span class="line">c32ce6654453 Extracting [&gt;                                                  ]  294.9kB/27.14MB</span><br><span class="line">c32ce6654453 Extracting [=====&gt;                                             ]  3.244MB/27.14MB</span><br><span class="line">c32ce6654453 Extracting [=============&gt;                                     ]  7.078MB/27.14MB</span><br><span class="line">c32ce6654453 Extracting [==================&gt;                                ]  10.03MB/27.14MB</span><br><span class="line">13e8a56469ec Downloading [==================================================&gt;]     184B/184B</span><br><span class="line">13e8a56469ec Verifying Checksum</span><br><span class="line">13e8a56469ec Download complete</span><br><span class="line">c32ce6654453 Extracting [========================&gt;                          ]  13.57MB/27.14MB</span><br><span class="line">38dee6f9a35a Downloading [&gt;                                                  ]  107.7kB/10.62MB</span><br><span class="line">c32ce6654453 Extracting [==============================&gt;                    ]  16.52MB/27.14MB</span><br><span class="line">c32ce6654453 Extracting [===================================&gt;               ]  19.46MB/27.14MB</span><br><span class="line">38dee6f9a35a Downloading [======&gt;                                            ]  1.439MB/10.62MB</span><br><span class="line">c32ce6654453 Extracting [=========================================&gt;         ]  22.71MB/27.14MB</span><br><span class="line">38dee6f9a35a Downloading [============&gt;                                      ]  2.573MB/10.62MB</span><br><span class="line">c32ce6654453 Extracting [=============================================&gt;     ]  24.77MB/27.14MB</span><br><span class="line">38dee6f9a35a Downloading [========================&gt;                          ]  5.158MB/10.62MB</span><br><span class="line">38dee6f9a35a Downloading [==================================&gt;                ]  7.382MB/10.62MB</span><br><span class="line">c32ce6654453 Extracting [===============================================&gt;   ]  25.95MB/27.14MB</span><br><span class="line">38dee6f9a35a Downloading [=============================================&gt;     ]  9.594MB/10.62MB</span><br><span class="line">38dee6f9a35a Verifying Checksum</span><br><span class="line">38dee6f9a35a Download complete</span><br><span class="line">c32ce6654453 Extracting [================================================&gt;  ]  26.25MB/27.14MB</span><br><span class="line">aeab01cd6e68 Downloading [==================================&gt;                ]     659B/960B</span><br><span class="line">c32ce6654453 Extracting [==================================================&gt;]  27.14MB/27.14MB</span><br><span class="line">4270e2b619a4 Downloading [&gt;                                                  ]  529.3kB/108.1MB</span><br><span class="line">aeab01cd6e68 Downloading [==================================================&gt;]     960B/960B</span><br><span class="line">aeab01cd6e68 Verifying Checksum</span><br><span class="line">aeab01cd6e68 Download complete</span><br><span class="line">c32ce6654453 Pull complete</span><br><span class="line">f43a1064aeac Extracting [&gt;                                                  ]  65.54kB/5.132MB</span><br><span class="line">4270e2b619a4 Downloading [&gt;                                                  ]  1.066MB/108.1MB</span><br><span class="line">f43a1064aeac Extracting [=================================&gt;                 ]  3.408MB/5.132MB</span><br><span class="line">4270e2b619a4 Downloading [&gt;                                                  ]  1.594MB/108.1MB</span><br><span class="line">f43a1064aeac Extracting [==================================================&gt;]  5.132MB/5.132MB</span><br><span class="line">f43a1064aeac Pull complete</span><br><span class="line">d34b02acf618 Extracting [==================================================&gt;]  4.598kB/4.598kB</span><br><span class="line">d34b02acf618 Extracting [==================================================&gt;]  4.598kB/4.598kB</span><br><span class="line">4270e2b619a4 Downloading [&gt;                                                  ]  2.127MB/108.1MB</span><br><span class="line">d34b02acf618 Pull complete</span><br><span class="line">13e8a56469ec Extracting [==================================================&gt;]     184B/184B</span><br><span class="line">13e8a56469ec Extracting [==================================================&gt;]     184B/184B</span><br><span class="line">13e8a56469ec Pull complete</span><br><span class="line">4270e2b619a4 Downloading [=&gt;                                                 ]    3.2MB/108.1MB</span><br><span class="line">38dee6f9a35a Extracting [&gt;                                                  ]  131.1kB/10.62MB</span><br><span class="line">38dee6f9a35a Extracting [==============&gt;                                    ]  3.015MB/10.62MB</span><br><span class="line">4270e2b619a4 Downloading [==&gt;                                                ]  4.806MB/108.1MB</span><br><span class="line">38dee6f9a35a Extracting [=============================&gt;                     ]   6.16MB/10.62MB</span><br><span class="line">38dee6f9a35a Extracting [=============================================&gt;     ]  9.699MB/10.62MB</span><br><span class="line">38dee6f9a35a Extracting [==================================================&gt;]  10.62MB/10.62MB</span><br><span class="line">4270e2b619a4 Downloading [==&gt;                                                ]  5.883MB/108.1MB</span><br><span class="line">38dee6f9a35a Pull complete</span><br><span class="line">4270e2b619a4 Downloading [===&gt;                                               ]  7.488MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===&gt;                                               ]  8.017MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [====&gt;                                              ]  9.631MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=====&gt;                                             ]  11.23MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=====&gt;                                             ]  12.83MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [======&gt;                                            ]  14.43MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=======&gt;                                           ]  16.04MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [========&gt;                                          ]  17.66MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [========&gt;                                          ]  18.74MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [========&gt;                                          ]  19.27MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=========&gt;                                         ]  20.35MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=========&gt;                                         ]  21.44MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==========&gt;                                        ]  22.52MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===========&gt;                                       ]  24.14MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===========&gt;                                       ]  25.74MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [============&gt;                                      ]  27.33MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=============&gt;                                     ]  28.92MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==============&gt;                                    ]  30.53MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==============&gt;                                    ]  31.07MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===============&gt;                                   ]  32.67MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===============&gt;                                   ]  33.73MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===============&gt;                                   ]  34.26MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [================&gt;                                  ]  35.85MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=================&gt;                                 ]  36.92MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=================&gt;                                 ]     38MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==================&gt;                                ]  40.13MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===================&gt;                               ]   42.8MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [====================&gt;                              ]  44.95MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [======================&gt;                            ]  47.61MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=======================&gt;                           ]  50.27MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [========================&gt;                          ]  52.42MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=========================&gt;                         ]  55.09MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==========================&gt;                        ]  57.76MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===========================&gt;                       ]  59.92MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [============================&gt;                      ]  62.04MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=============================&gt;                     ]  64.72MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==============================&gt;                    ]  66.84MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [================================&gt;                  ]  69.51MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=================================&gt;                 ]  72.18MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==================================&gt;                ]  74.31MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===================================&gt;               ]  77.53MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [====================================&gt;              ]  79.66MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [======================================&gt;            ]  82.37MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=======================================&gt;           ]  85.06MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [========================================&gt;          ]  87.19MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=========================================&gt;         ]  89.85MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==========================================&gt;        ]  92.54MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===========================================&gt;       ]  94.69MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=============================================&gt;     ]   97.9MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [==============================================&gt;    ]    100MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [===============================================&gt;   ]  102.7MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [================================================&gt;  ]  105.4MB/108.1MB</span><br><span class="line">4270e2b619a4 Downloading [=================================================&gt; ]  107.5MB/108.1MB</span><br><span class="line">4270e2b619a4 Verifying Checksum</span><br><span class="line">4270e2b619a4 Download complete</span><br><span class="line">4270e2b619a4 Extracting [&gt;                                                  ]  557.1kB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [======&gt;                                            ]  14.48MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [===========&gt;                                       ]  25.07MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [=================&gt;                                 ]  37.32MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [======================&gt;                            ]  49.02MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [==============================&gt;                    ]  65.18MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [===================================&gt;               ]  76.32MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [======================================&gt;            ]  83.56MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [============================================&gt;      ]  96.93MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [================================================&gt;  ]  104.7MB/108.1MB</span><br><span class="line">4270e2b619a4 Extracting [==================================================&gt;]  108.1MB/108.1MB</span><br><span class="line">4270e2b619a4 Pull complete</span><br><span class="line">aeab01cd6e68 Extracting [==================================================&gt;]     960B/960B</span><br><span class="line">aeab01cd6e68 Extracting [==================================================&gt;]     960B/960B</span><br><span class="line">aeab01cd6e68 Pull complete</span><br><span class="line">relay Pulled</span><br><span class="line">Network sentry-self-hosted_default  Creating</span><br><span class="line">Network sentry-self-hosted_default  Created</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-clickhouse-log&quot;</span>  Creating</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-clickhouse-log&quot;</span>  Created</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-smtp-log&quot;</span>  Creating</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-smtp-log&quot;</span>  Created</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-kafka-log&quot;</span>  Creating</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-kafka-log&quot;</span>  Created</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-secrets&quot;</span>  Creating</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-secrets&quot;</span>  Created</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-smtp&quot;</span>  Creating</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-smtp&quot;</span>  Created</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-zookeeper-log&quot;</span>  Creating</span><br><span class="line">Volume <span class="string">&quot;sentry-self-hosted_sentry-zookeeper-log&quot;</span>  Created</span><br><span class="line">Relay credentials written to ../relay/credentials.json.</span><br><span class="line"></span><br><span class="line">▶ Generating secret key ...</span><br><span class="line">Secret key written to ../sentry/config.yml</span><br><span class="line"></span><br><span class="line">▶ Replacing TSDB ...</span><br><span class="line"></span><br><span class="line">▶ Fetching and updating Docker images ...</span><br><span class="line">22.5.0: Pulling from getsentry/sentry</span><br><span class="line">Digest: sha256:d3d99e21c92fc6016f4f55169f9c97448461c9c5ed37aa9f11df7b805c5bd96d</span><br><span class="line">Status: Image is up to date <span class="keyword">for</span> getsentry/sentry:22.5.0</span><br><span class="line">docker.io/getsentry/sentry:22.5.0</span><br><span class="line"></span><br><span class="line">▶ Building and tagging Docker images ...</span><br><span class="line"></span><br><span class="line"><span class="comment">#1 [symbolicator-cleanup-self-hosted-local internal] load build definition from Dockerfile</span></span><br><span class="line"><span class="comment">#1 transferring dockerfile: 250B 0.0s done</span></span><br><span class="line"><span class="comment">#1 DONE 0.0s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2 [snuba-cleanup-self-hosted-local internal] load build definition from Dockerfile</span></span><br><span class="line"><span class="comment">#2 transferring dockerfile: 250B done</span></span><br><span class="line"><span class="comment">#2 DONE 0.1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#3 [snuba-cleanup-self-hosted-local internal] load .dockerignore</span></span><br><span class="line"><span class="comment">#3 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#4 [sentry-cleanup-self-hosted-local internal] load build definition from Dockerfile</span></span><br><span class="line"><span class="comment">#4 transferring dockerfile: 250B done</span></span><br><span class="line"><span class="comment">#4 DONE 0.2s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#5 [sentry-cleanup-self-hosted-local internal] load .dockerignore</span></span><br><span class="line"><span class="comment">#5 transferring context: 2B done</span></span><br><span class="line"><span class="comment">#5 DONE 0.1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#6 [symbolicator-cleanup-self-hosted-local internal] load .dockerignore</span></span><br><span class="line"><span class="comment">#6 transferring context: 2B done</span></span><br><span class="line"><span class="comment">#6 DONE 0.1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#3 [snuba-cleanup-self-hosted-local internal] load .dockerignore</span></span><br><span class="line"><span class="comment">#3 transferring context: 2B done</span></span><br><span class="line"><span class="comment">#3 DONE 0.1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#7 [sentry-cleanup-self-hosted-local internal] load metadata for docker.io/getsentry/sentry:22.5.0</span></span><br><span class="line"><span class="comment">#7 DONE 0.0s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#8 [symbolicator-cleanup-self-hosted-local internal] load metadata for docker.io/getsentry/symbolicator:0.5.0</span></span><br><span class="line"><span class="comment">#8 DONE 0.0s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#9 [snuba-cleanup-self-hosted-local internal] load metadata for docker.io/getsentry/snuba:22.5.0</span></span><br><span class="line"><span class="comment">#9 DONE 0.0s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#10 [snuba-cleanup-self-hosted-local 1/3] FROM docker.io/getsentry/snuba:22.5.0</span></span><br><span class="line"><span class="comment">#10 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#11 [symbolicator-cleanup-self-hosted-local internal] load build context</span></span><br><span class="line"><span class="comment">#11 transferring context: 662B 0.0s done</span></span><br><span class="line"><span class="comment">#11 DONE 0.2s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#12 [snuba-cleanup-self-hosted-local internal] load build context</span></span><br><span class="line"><span class="comment">#12 transferring context: 662B done</span></span><br><span class="line"><span class="comment">#12 DONE 0.3s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#13 [sentry-cleanup-self-hosted-local internal] load build context</span></span><br><span class="line"><span class="comment">#13 transferring context: 662B done</span></span><br><span class="line"><span class="comment">#13 DONE 0.4s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#14 [sentry-cleanup-self-hosted-local 1/3] FROM docker.io/getsentry/sentry:22.5.0</span></span><br><span class="line"><span class="comment">#14 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#15 [symbolicator-cleanup-self-hosted-local 1/3] FROM docker.io/getsentry/symbolicator:0.5.0</span></span><br><span class="line"><span class="comment">#15 DONE 1.2s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#16 [symbolicator-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#16 0.429 Get:1 http://security.debian.org/debian-security stretch/updates InRelease [53.0 kB]</span></span><br><span class="line"><span class="comment">#16 0.435 Ign:2 http://deb.debian.org/debian stretch InRelease</span></span><br><span class="line"><span class="comment">#16 0.517 Get:3 http://security.debian.org/debian-security stretch/updates/main amd64 Packages [766 kB]</span></span><br><span class="line"><span class="comment">#16 0.683 Get:4 http://deb.debian.org/debian stretch-updates InRelease [93.6 kB]</span></span><br><span class="line"><span class="comment">#16 0.957 Get:5 http://deb.debian.org/debian stretch Release [118 kB]</span></span><br><span class="line"><span class="comment">#16 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#10 [snuba-cleanup-self-hosted-local 1/3] FROM docker.io/getsentry/snuba:22.5.0</span></span><br><span class="line"><span class="comment">#10 DONE 2.1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#16 [symbolicator-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#16 1.218 Get:6 http://deb.debian.org/debian stretch Release.gpg [3177 B]</span></span><br><span class="line"><span class="comment">#16 1.296 Get:7 http://deb.debian.org/debian stretch/main amd64 Packages [7080 kB]</span></span><br><span class="line"><span class="comment">#16 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#14 [sentry-cleanup-self-hosted-local 1/3] FROM docker.io/getsentry/sentry:22.5.0</span></span><br><span class="line"><span class="comment">#14 DONE 2.7s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#17 [snuba-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#0 0.444 Get:1 http://deb.debian.org/debian bullseye InRelease [116 kB]</span></span><br><span class="line"><span class="comment">#0 0.446 Get:2 http://security.debian.org/debian-security bullseye-security InRelease [44.1 kB]</span></span><br><span class="line"><span class="comment">#0 0.477 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [39.4 kB]</span></span><br><span class="line"><span class="comment">#0 0.564 Get:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [147 kB]</span></span><br><span class="line"><span class="comment">#0 0.665 Get:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8182 kB]</span></span><br><span class="line"><span class="comment">#17 1.353 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [2596 B]</span></span><br><span class="line"><span class="comment">#17 2.251 Fetched 8532 kB in 2s (4529 kB/s)</span></span><br><span class="line"><span class="comment">#17 2.251 Reading package lists...</span></span><br><span class="line"><span class="comment">#17 2.655 Reading package lists...</span></span><br><span class="line"><span class="comment">#17 3.089 Building dependency tree...</span></span><br><span class="line"><span class="comment">#17 3.189 Reading state information...</span></span><br><span class="line"><span class="comment">#17 3.296 The following additional packages will be installed:</span></span><br><span class="line"><span class="comment">#17 3.296   sensible-utils</span></span><br><span class="line"><span class="comment">#17 3.297 Suggested packages:</span></span><br><span class="line"><span class="comment">#17 3.297   anacron logrotate checksecurity</span></span><br><span class="line"><span class="comment">#17 3.297 Recommended packages:</span></span><br><span class="line"><span class="comment">#17 3.297   default-mta | mail-transport-agent</span></span><br><span class="line"><span class="comment">#17 3.324 The following NEW packages will be installed:</span></span><br><span class="line"><span class="comment">#17 3.324   cron sensible-utils</span></span><br><span class="line"><span class="comment">#17 3.359 0 upgraded, 2 newly installed, 0 to remove and 2 not upgraded.</span></span><br><span class="line"><span class="comment">#17 3.359 Need to get 114 kB of archives.</span></span><br><span class="line"><span class="comment">#17 3.359 After this operation, 314 kB of additional disk space will be used.</span></span><br><span class="line"><span class="comment">#17 3.359 Get:1 http://deb.debian.org/debian bullseye/main amd64 sensible-utils all 0.0.14 [14.8 kB]</span></span><br><span class="line"><span class="comment">#17 3.371 Get:2 http://deb.debian.org/debian bullseye/main amd64 cron amd64 3.0pl1-137 [99.6 kB]</span></span><br><span class="line"><span class="comment">#17 4.876 debconf: delaying package configuration, since apt-utils is not installed</span></span><br><span class="line"><span class="comment">#17 5.970 Fetched 114 kB in 0s (2106 kB/s)</span></span><br><span class="line"><span class="comment">#17 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#16 [symbolicator-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#16 2.698 Fetched 8114 kB in 2s (3478 kB/s)</span></span><br><span class="line"><span class="comment">#16 2.698 Reading package lists...</span></span><br><span class="line"><span class="comment">#16 3.234 Reading package lists...</span></span><br><span class="line"><span class="comment">#16 3.673 Building dependency tree...</span></span><br><span class="line"><span class="comment">#16 3.751 Reading state information...</span></span><br><span class="line"><span class="comment">#16 3.809 Suggested packages:</span></span><br><span class="line"><span class="comment">#16 3.809   anacron logrotate checksecurity</span></span><br><span class="line"><span class="comment">#16 3.809 Recommended packages:</span></span><br><span class="line"><span class="comment">#16 3.809   exim4 | postfix | mail-transport-agent</span></span><br><span class="line"><span class="comment">#16 3.815 The following NEW packages will be installed:</span></span><br><span class="line"><span class="comment">#16 3.815   cron</span></span><br><span class="line"><span class="comment">#16 3.842 0 upgraded, 1 newly installed, 0 to remove and 2 not upgraded.</span></span><br><span class="line"><span class="comment">#16 3.842 Need to get 96.6 kB of archives.</span></span><br><span class="line"><span class="comment">#16 3.842 After this operation, 257 kB of additional disk space will be used.</span></span><br><span class="line"><span class="comment">#16 3.842 Get:1 http://security.debian.org/debian-security stretch/updates/main amd64 cron amd64 3.0pl1-128+deb9u2 [96.6 kB]</span></span><br><span class="line"><span class="comment">#16 3.935 debconf: delaying package configuration, since apt-utils is not installed</span></span><br><span class="line"><span class="comment">#16 3.954 Fetched 96.6 kB in 0s (2691 kB/s)</span></span><br><span class="line"><span class="comment">#16 4.004 Selecting previously unselected package cron.</span></span><br><span class="line">(Reading database ... 6672 files and directories currently installed.)</span><br><span class="line"><span class="comment">#16 4.007 Preparing to unpack .../cron_3.0pl1-128+deb9u2_amd64.deb ...</span></span><br><span class="line"><span class="comment">#16 4.022 Unpacking cron (3.0pl1-128+deb9u2) ...</span></span><br><span class="line"><span class="comment">#16 4.085 Setting up cron (3.0pl1-128+deb9u2) ...</span></span><br><span class="line"><span class="comment">#16 4.226 Adding group `crontab&#x27; (GID 101) ...</span></span><br><span class="line"><span class="comment">#16 4.254 Done.</span></span><br><span class="line"><span class="comment">#16 4.360 update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults</span></span><br><span class="line"><span class="comment">#16 4.362 invoke-rc.d: could not determine current runlevel</span></span><br><span class="line"><span class="comment">#16 4.364 invoke-rc.d: policy-rc.d denied execution of start.</span></span><br><span class="line"><span class="comment">#16 DONE 7.6s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#18 [sentry-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#0 0.314 Get:1 http://security.debian.org/debian-security bullseye-security InRelease [44.1 kB]</span></span><br><span class="line"><span class="comment">#0 0.316 Get:2 http://deb.debian.org/debian bullseye InRelease [116 kB]</span></span><br><span class="line"><span class="comment">#0 0.351 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [39.4 kB]</span></span><br><span class="line"><span class="comment">#0 0.428 Get:4 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [147 kB]</span></span><br><span class="line"><span class="comment">#0 0.516 Get:5 http://deb.debian.org/debian bullseye/main amd64 Packages [8182 kB]</span></span><br><span class="line"><span class="comment">#0 1.431 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [2596 B]</span></span><br><span class="line"><span class="comment">#0 2.254 Fetched 8532 kB in 2s (4335 kB/s)</span></span><br><span class="line"><span class="comment">#0 2.254 Reading package lists...</span></span><br><span class="line"><span class="comment">#0 2.712 Reading package lists...</span></span><br><span class="line"><span class="comment">#0 3.098 Building dependency tree...</span></span><br><span class="line"><span class="comment">#0 3.182 Reading state information...</span></span><br><span class="line"><span class="comment">#0 3.261 The following additional packages will be installed:</span></span><br><span class="line"><span class="comment">#0 3.261   sensible-utils</span></span><br><span class="line"><span class="comment">#0 3.261 Suggested packages:</span></span><br><span class="line"><span class="comment">#0 3.261   anacron logrotate checksecurity</span></span><br><span class="line"><span class="comment">#0 3.261 Recommended packages:</span></span><br><span class="line"><span class="comment">#0 3.261   default-mta | mail-transport-agent</span></span><br><span class="line"><span class="comment">#0 3.287 The following NEW packages will be installed:</span></span><br><span class="line"><span class="comment">#0 3.288   cron sensible-utils</span></span><br><span class="line"><span class="comment">#0 3.319 0 upgraded, 2 newly installed, 0 to remove and 14 not upgraded.</span></span><br><span class="line"><span class="comment">#0 3.319 Need to get 114 kB of archives.</span></span><br><span class="line"><span class="comment">#0 3.319 After this operation, 314 kB of additional disk space will be used.</span></span><br><span class="line"><span class="comment">#0 3.319 Get:1 http://deb.debian.org/debian bullseye/main amd64 sensible-utils all 0.0.14 [14.8 kB]</span></span><br><span class="line"><span class="comment">#0 3.332 Get:2 http://deb.debian.org/debian bullseye/main amd64 cron amd64 3.0pl1-137 [99.6 kB]</span></span><br><span class="line"><span class="comment">#0 4.484 debconf: delaying package configuration, since apt-utils is not installed</span></span><br><span class="line"><span class="comment">#0 5.775 Fetched 114 kB in 0s (2036 kB/s)</span></span><br><span class="line"><span class="comment">#18 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#19 [symbolicator-cleanup-self-hosted-local 3/3] COPY entrypoint.sh /entrypoint.sh</span></span><br><span class="line"><span class="comment">#19 DONE 0.1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#18 [sentry-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#18 5.972 Selecting previously unselected package sensible-utils.</span></span><br><span class="line">(Reading database ... 12313 files and directories currently installed.)</span><br><span class="line"><span class="comment">#18 5.979 Preparing to unpack .../sensible-utils_0.0.14_all.deb ...</span></span><br><span class="line"><span class="comment">#18 5.996 Unpacking sensible-utils (0.0.14) ...</span></span><br><span class="line"><span class="comment">#18 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#17 [snuba-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#17 6.512 Selecting previously unselected package sensible-utils.</span></span><br><span class="line">(Reading database ... 7023 files and directories currently installed.)</span><br><span class="line"><span class="comment">#17 6.517 Preparing to unpack .../sensible-utils_0.0.14_all.deb ...</span></span><br><span class="line"><span class="comment">#17 6.536 Unpacking sensible-utils (0.0.14) ...</span></span><br><span class="line"><span class="comment">#17 6.699 Selecting previously unselected package cron.</span></span><br><span class="line"><span class="comment">#17 6.700 Preparing to unpack .../cron_3.0pl1-137_amd64.deb ...</span></span><br><span class="line"><span class="comment">#17 6.715 Unpacking cron (3.0pl1-137) ...</span></span><br><span class="line"><span class="comment">#17 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#20 [symbolicator-cleanup-self-hosted-local] exporting to image</span></span><br><span class="line"><span class="comment">#20 exporting layers 0.1s done</span></span><br><span class="line"><span class="comment">#20 writing image sha256:55e5ee92a99c44b3ec96305d2c0819f2725542b0531c2e0778985736a83e182a done</span></span><br><span class="line"><span class="comment">#20 naming to docker.io/library/symbolicator-cleanup-self-hosted-local done</span></span><br><span class="line"><span class="comment">#20 DONE 0.2s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#17 [snuba-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#17 6.834 Setting up sensible-utils (0.0.14) ...</span></span><br><span class="line"><span class="comment">#17 6.890 Setting up cron (3.0pl1-137) ...</span></span><br><span class="line"><span class="comment">#17 7.094 Adding group `crontab&#x27; (GID 101) ...</span></span><br><span class="line"><span class="comment">#17 7.149 Done.</span></span><br><span class="line"><span class="comment">#17 7.174 invoke-rc.d: could not determine current runlevel</span></span><br><span class="line"><span class="comment">#17 7.176 invoke-rc.d: policy-rc.d denied execution of start.</span></span><br><span class="line"><span class="comment">#17 DONE 7.3s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#18 [sentry-cleanup-self-hosted-local 2/3] RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends cron &amp;&amp;     rm -r /var/lib/apt/lists/*</span></span><br><span class="line"><span class="comment">#18 6.160 Selecting previously unselected package cron.</span></span><br><span class="line"><span class="comment">#18 6.161 Preparing to unpack .../cron_3.0pl1-137_amd64.deb ...</span></span><br><span class="line"><span class="comment">#18 6.177 Unpacking cron (3.0pl1-137) ...</span></span><br><span class="line"><span class="comment">#18 6.297 Setting up sensible-utils (0.0.14) ...</span></span><br><span class="line"><span class="comment">#18 6.352 Setting up cron (3.0pl1-137) ...</span></span><br><span class="line"><span class="comment">#18 6.555 Adding group `crontab&#x27; (GID 101) ...</span></span><br><span class="line"><span class="comment">#18 6.610 Done.</span></span><br><span class="line"><span class="comment">#18 6.635 invoke-rc.d: could not determine current runlevel</span></span><br><span class="line"><span class="comment">#18 6.638 invoke-rc.d: policy-rc.d denied execution of start.</span></span><br><span class="line"><span class="comment">#18 DONE 6.8s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#21 [sentry-cleanup-self-hosted-local 3/3] COPY entrypoint.sh /entrypoint.sh</span></span><br><span class="line"><span class="comment">#21 DONE 0.2s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#22 [snuba-cleanup-self-hosted-local 3/3] COPY entrypoint.sh /entrypoint.sh</span></span><br><span class="line"><span class="comment">#22 DONE 0.1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#20 [snuba-cleanup-self-hosted-local] exporting to image</span></span><br><span class="line"><span class="comment">#20 exporting layers 0.2s done</span></span><br><span class="line"><span class="comment">#20 exporting layers 0.1s done</span></span><br><span class="line"><span class="comment">#20 writing image sha256:b6d0d102fdc734471ba6740b911379b54d3766103e9ca18aae43a0b36108f0c8 done</span></span><br><span class="line"><span class="comment">#20 naming to docker.io/library/snuba-cleanup-self-hosted-local done</span></span><br><span class="line"><span class="comment">#20 writing image sha256:a58c3967aef67ef84ac404e1bee9e60acb85a61e2703c5d0a1e899376de96c23</span></span><br><span class="line"><span class="comment">#20 writing image sha256:a58c3967aef67ef84ac404e1bee9e60acb85a61e2703c5d0a1e899376de96c23 done</span></span><br><span class="line"><span class="comment">#20 naming to docker.io/library/sentry-cleanup-self-hosted-local done</span></span><br><span class="line"><span class="comment">#20 DONE 0.6s</span></span><br><span class="line"></span><br><span class="line">Use <span class="string">&#x27;docker scan&#x27;</span> to run Snyk tests against images to find vulnerabilities and learn how to fix them</span><br><span class="line"></span><br><span class="line">Docker images built.</span><br><span class="line"></span><br><span class="line">▶ Setting up Zookeeper ...</span><br><span class="line"></span><br><span class="line">▶ Downloading and installing wal2json ...</span><br><span class="line">Unable to find image <span class="string">&#x27;curlimages/curl:7.77.0&#x27;</span> locally</span><br><span class="line">7.77.0: Pulling from curlimages/curl</span><br><span class="line">339de151aab4: Pulling fs layer</span><br><span class="line">9576f9a419e9: Pulling fs layer</span><br><span class="line">5b67e0e9bce9: Pulling fs layer</span><br><span class="line">7c0640a6c519: Pulling fs layer</span><br><span class="line">1d8f7d50664a: Pulling fs layer</span><br><span class="line">3ce74da83aeb: Pulling fs layer</span><br><span class="line">7094fabf5e16: Pulling fs layer</span><br><span class="line">2f4d0b649c1f: Pulling fs layer</span><br><span class="line">110e7f874674: Pulling fs layer</span><br><span class="line">7c0640a6c519: Waiting</span><br><span class="line">1d8f7d50664a: Waiting</span><br><span class="line">3ce74da83aeb: Waiting</span><br><span class="line">7094fabf5e16: Waiting</span><br><span class="line">2f4d0b649c1f: Waiting</span><br><span class="line">110e7f874674: Waiting</span><br><span class="line">9576f9a419e9: Verifying Checksum</span><br><span class="line">9576f9a419e9: Download complete</span><br><span class="line">339de151aab4: Verifying Checksum</span><br><span class="line">339de151aab4: Download complete</span><br><span class="line">339de151aab4: Pull complete</span><br><span class="line">5b67e0e9bce9: Verifying Checksum</span><br><span class="line">5b67e0e9bce9: Download complete</span><br><span class="line">9576f9a419e9: Pull complete</span><br><span class="line">5b67e0e9bce9: Pull complete</span><br><span class="line">7c0640a6c519: Verifying Checksum</span><br><span class="line">7c0640a6c519: Download complete</span><br><span class="line">7c0640a6c519: Pull complete</span><br><span class="line">1d8f7d50664a: Verifying Checksum</span><br><span class="line">1d8f7d50664a: Download complete</span><br><span class="line">1d8f7d50664a: Pull complete</span><br><span class="line">3ce74da83aeb: Download complete</span><br><span class="line">3ce74da83aeb: Pull complete</span><br><span class="line">7094fabf5e16: Verifying Checksum</span><br><span class="line">7094fabf5e16: Download complete</span><br><span class="line">7094fabf5e16: Pull complete</span><br><span class="line">2f4d0b649c1f: Verifying Checksum</span><br><span class="line">2f4d0b649c1f: Download complete</span><br><span class="line">2f4d0b649c1f: Pull complete</span><br><span class="line">110e7f874674: Download complete</span><br><span class="line">110e7f874674: Pull complete</span><br><span class="line">Digest: sha256:6e0a786e3e5181df00eaf3a0a1749c18a6bb20b01c9bd192ea72176ce8a1c94b</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> curlimages/curl:7.77.0</span><br><span class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100  5417  100  5417    0     0  16818      0 --:--:-- --:--:-- --:--:-- 16822</span><br><span class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0</span><br><span class="line">100  101k  100  101k    0     0   140k      0 --:--:-- --:--:-- --:--:--  140k</span><br><span class="line"></span><br><span class="line">▶ Bootstrapping and migrating Snuba ...</span><br><span class="line">Container sentry-self-hosted-redis-1  Creating</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Creating</span><br><span class="line">Container sentry-self-hosted-clickhouse-1  Creating</span><br><span class="line">Container sentry-self-hosted-redis-1  Created</span><br><span class="line">Container sentry-self-hosted-clickhouse-1  Created</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Created</span><br><span class="line">Container sentry-self-hosted-kafka-1  Creating</span><br><span class="line">Container sentry-self-hosted-kafka-1  Created</span><br><span class="line">Container sentry-self-hosted-redis-1  Starting</span><br><span class="line">Container sentry-self-hosted-clickhouse-1  Starting</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Starting</span><br><span class="line">Container sentry-self-hosted-redis-1  Started</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Started</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Waiting</span><br><span class="line">Container sentry-self-hosted-clickhouse-1  Started</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Healthy</span><br><span class="line">Container sentry-self-hosted-kafka-1  Starting</span><br><span class="line">Container sentry-self-hosted-kafka-1  Started</span><br><span class="line">2022-05-21 13:24:19,186 Attempting to connect to Kafka (attempt 0)...</span><br><span class="line">2022-05-21 13:24:19,201 Connected to Kafka on attempt 0</span><br><span class="line">2022-05-21 13:24:19,202 Creating Kafka topics...</span><br><span class="line">2022-05-21 13:24:19,737 Topic events created</span><br><span class="line">2022-05-21 13:24:19,737 Topic event-replacements created</span><br><span class="line">2022-05-21 13:24:19,737 Topic snuba-commit-log created</span><br><span class="line">2022-05-21 13:24:19,737 Topic cdc created</span><br><span class="line">2022-05-21 13:24:19,737 Topic snuba-metrics created</span><br><span class="line">2022-05-21 13:24:19,737 Topic outcomes created</span><br><span class="line">2022-05-21 13:24:19,738 Topic ingest-sessions created</span><br><span class="line">2022-05-21 13:24:19,738 Topic snuba-sessions-commit-log created</span><br><span class="line">2022-05-21 13:24:19,738 Topic snuba-metrics-commit-log created</span><br><span class="line">2022-05-21 13:24:19,738 Topic scheduled-subscriptions-events created</span><br><span class="line">2022-05-21 13:24:19,738 Topic scheduled-subscriptions-transactions created</span><br><span class="line">2022-05-21 13:24:19,738 Topic scheduled-subscriptions-sessions created</span><br><span class="line">2022-05-21 13:24:19,738 Topic scheduled-subscriptions-metrics created</span><br><span class="line">2022-05-21 13:24:19,738 Topic events-subscription-results created</span><br><span class="line">2022-05-21 13:24:19,738 Topic transactions-subscription-results created</span><br><span class="line">2022-05-21 13:24:19,738 Topic sessions-subscription-results created</span><br><span class="line">2022-05-21 13:24:19,738 Topic metrics-subscription-results created</span><br><span class="line">2022-05-21 13:24:19,738 Topic snuba-queries created</span><br><span class="line">2022-05-21 13:24:19,738 Topic processed-profiles created</span><br><span class="line">2022-05-21 13:24:19,739 Topic snuba-dead-letter-inserts created</span><br><span class="line">2022-05-21 13:24:19,739 Topic snuba-dead-letter-metrics created</span><br><span class="line">2022-05-21 13:24:19,739 Topic snuba-dead-letter-sessions created</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Running</span><br><span class="line">Container sentry-self-hosted-clickhouse-1  Running</span><br><span class="line">Container sentry-self-hosted-kafka-1  Running</span><br><span class="line">Container sentry-self-hosted-redis-1  Running</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Waiting</span><br><span class="line">Container sentry-self-hosted-zookeeper-1  Healthy</span><br><span class="line">2022-05-21 13:24:24,559 Running migration: 0001_migrations</span><br><span class="line">2022-05-21 13:24:24,567 Finished: 0001_migrations</span><br><span class="line">/usr/<span class="built_in">local</span>/lib/python3.8/site-packages/clickhouse_driver/columns/datetimecolumn.py:199: PytzUsageWarning: The zone attribute is specific to pytz<span class="string">&#x27;s interface; please migrate to a new time zone provider. For more details on how to do so, see https://pytz-deprecation-shim.readthedocs.io/en/latest/migration.html</span></span><br><span class="line"><span class="string">  local_timezone = get_localzone().zone</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,574 Running migration: 0001_events_initial</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,588 Finished: 0001_events_initial</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,593 Running migration: 0002_events_onpremise_compatibility</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,683 Finished: 0002_events_onpremise_compatibility</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,688 Running migration: 0003_errors</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,700 Finished: 0003_errors</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,705 Running migration: 0004_errors_onpremise_compatibility</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,718 Finished: 0004_errors_onpremise_compatibility</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,723 Running migration: 0005_events_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,740 Finished: 0005_events_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,745 Running migration: 0006_errors_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,757 Finished: 0006_errors_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,762 Running migration: 0007_groupedmessages</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,774 Finished: 0007_groupedmessages</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,778 Running migration: 0008_groupassignees</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,788 Finished: 0008_groupassignees</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,793 Running migration: 0009_errors_add_http_fields</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,812 Finished: 0009_errors_add_http_fields</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,817 Running migration: 0010_groupedmessages_onpremise_compatibility</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,822 Finished: 0010_groupedmessages_onpremise_compatibility</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,827 Running migration: 0011_rebuild_errors</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,858 Finished: 0011_rebuild_errors</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,863 Running migration: 0012_errors_make_level_nullable</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,875 Finished: 0012_errors_make_level_nullable</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,879 Running migration: 0013_errors_add_hierarchical_hashes</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,909 Finished: 0013_errors_add_hierarchical_hashes</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,914 Running migration: 0014_backfill_errors</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,919 Starting migration from 2022-05-16</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,932 Migrated 2022-05-16. (1 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,944 Migrated 2022-05-09. (2 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,958 Migrated 2022-05-02. (3 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,970 Migrated 2022-04-25. (4 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,983 Migrated 2022-04-18. (5 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:24,996 Migrated 2022-04-11. (6 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,009 Migrated 2022-04-04. (7 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,022 Migrated 2022-03-28. (8 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,035 Migrated 2022-03-21. (9 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,048 Migrated 2022-03-14. (10 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,061 Migrated 2022-03-07. (11 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,074 Migrated 2022-02-28. (12 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,087 Migrated 2022-02-21. (13 of 13 partitions done)</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,087 Done. Optimizing.</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,089 Finished: 0014_backfill_errors</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,094 Running migration: 0015_truncate_events</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,098 Finished: 0015_truncate_events</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,104 Running migration: 0016_drop_legacy_events</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,108 Finished: 0016_drop_legacy_events</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,113 Running migration: 0001_transactions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,124 Finished: 0001_transactions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,129 Running migration: 0002_transactions_onpremise_fix_orderby_and_partitionby</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,134 Finished: 0002_transactions_onpremise_fix_orderby_and_partitionby</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,139 Running migration: 0003_transactions_onpremise_fix_columns</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,266 Finished: 0003_transactions_onpremise_fix_columns</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,270 Running migration: 0004_transactions_add_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,281 Finished: 0004_transactions_add_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,286 Running migration: 0005_transactions_add_measurements</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,297 Finished: 0005_transactions_add_measurements</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,301 Running migration: 0006_transactions_add_http_fields</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,319 Finished: 0006_transactions_add_http_fields</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,324 Running migration: 0007_transactions_add_discover_cols</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,359 Finished: 0007_transactions_add_discover_cols</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,363 Running migration: 0008_transactions_add_timestamp_index</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,375 Finished: 0008_transactions_add_timestamp_index</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,379 Running migration: 0009_transactions_fix_title_and_message</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,401 Finished: 0009_transactions_fix_title_and_message</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,405 Running migration: 0010_transactions_nullable_trace_id</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,416 Finished: 0010_transactions_nullable_trace_id</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,420 Running migration: 0011_transactions_add_span_op_breakdowns</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,431 Finished: 0011_transactions_add_span_op_breakdowns</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,436 Running migration: 0012_transactions_add_spans</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,499 Finished: 0012_transactions_add_spans</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,504 Running migration: 0013_transactions_reduce_spans_exclusive_time</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,526 Finished: 0013_transactions_reduce_spans_exclusive_time</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,530 Running migration: 0014_transactions_remove_flattened_columns</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,551 Finished: 0014_transactions_remove_flattened_columns</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,556 Running migration: 0001_discover_merge_table</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,571 Finished: 0001_discover_merge_table</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,575 Running migration: 0002_discover_add_deleted_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,590 Finished: 0002_discover_add_deleted_tags_hash_map</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,594 Running migration: 0003_discover_fix_user_column</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,605 Finished: 0003_discover_fix_user_column</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,609 Running migration: 0004_discover_fix_title_and_message</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,632 Finished: 0004_discover_fix_title_and_message</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,637 Running migration: 0005_discover_fix_transaction_name</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,648 Finished: 0005_discover_fix_transaction_name</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,652 Running migration: 0006_discover_add_trace_id</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,663 Finished: 0006_discover_add_trace_id</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,668 Running migration: 0007_discover_add_span_id</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,678 Finished: 0007_discover_add_span_id</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,683 Running migration: 0001_outcomes</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,706 Finished: 0001_outcomes</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,710 Running migration: 0002_outcomes_remove_size_and_bytes</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,733 Finished: 0002_outcomes_remove_size_and_bytes</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,738 Running migration: 0003_outcomes_add_category_and_quantity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,764 Finished: 0003_outcomes_add_category_and_quantity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,769 Running migration: 0004_outcomes_matview_additions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,779 Finished: 0004_outcomes_matview_additions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,785 Running migration: 0001_metrics_buckets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,795 Finished: 0001_metrics_buckets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,800 Running migration: 0002_metrics_sets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,837 Finished: 0002_metrics_sets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,841 Running migration: 0003_counters_to_buckets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,851 Finished: 0003_counters_to_buckets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,855 Running migration: 0004_metrics_counters</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,891 Finished: 0004_metrics_counters</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,895 Running migration: 0005_metrics_distributions_buckets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,905 Finished: 0005_metrics_distributions_buckets</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,910 Running migration: 0006_metrics_distributions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,947 Finished: 0006_metrics_distributions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,952 Running migration: 0007_metrics_sets_granularity_10</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,965 Finished: 0007_metrics_sets_granularity_10</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,970 Running migration: 0008_metrics_counters_granularity_10</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,979 Finished: 0008_metrics_counters_granularity_10</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,983 Running migration: 0009_metrics_distributions_granularity_10</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,992 Finished: 0009_metrics_distributions_granularity_10</span></span><br><span class="line"><span class="string">2022-05-21 13:24:25,996 Running migration: 0010_metrics_sets_granularity_1h</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,006 Finished: 0010_metrics_sets_granularity_1h</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,010 Running migration: 0011_metrics_counters_granularity_1h</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,019 Finished: 0011_metrics_counters_granularity_1h</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,024 Running migration: 0012_metrics_distributions_granularity_1h</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,034 Finished: 0012_metrics_distributions_granularity_1h</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,038 Running migration: 0013_metrics_sets_granularity_1d</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,047 Finished: 0013_metrics_sets_granularity_1d</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,052 Running migration: 0014_metrics_counters_granularity_1d</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,061 Finished: 0014_metrics_counters_granularity_1d</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,065 Running migration: 0015_metrics_distributions_granularity_1d</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,075 Finished: 0015_metrics_distributions_granularity_1d</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,079 Running migration: 0016_metrics_sets_consolidated_granularity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,088 Finished: 0016_metrics_sets_consolidated_granularity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,092 Running migration: 0017_metrics_counters_consolidated_granularity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,106 Finished: 0017_metrics_counters_consolidated_granularity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,110 Running migration: 0018_metrics_distributions_consolidated_granularity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,119 Finished: 0018_metrics_distributions_consolidated_granularity</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,123 Running migration: 0019_aggregate_tables_add_ttl</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,147 Finished: 0019_aggregate_tables_add_ttl</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,152 Running migration: 0020_polymorphic_buckets_table</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,162 Finished: 0020_polymorphic_buckets_table</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,167 Running migration: 0021_polymorphic_bucket_materialized_views</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,187 Finished: 0021_polymorphic_bucket_materialized_views</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,191 Running migration: 0022_repartition_polymorphic_table</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,201 Finished: 0022_repartition_polymorphic_table</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,205 Running migration: 0023_polymorphic_repartitioned_bucket_matview</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,229 Finished: 0023_polymorphic_repartitioned_bucket_matview</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,234 Running migration: 0024_metrics_distributions_add_histogram</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,262 Finished: 0024_metrics_distributions_add_histogram</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,267 Running migration: 0025_metrics_counters_aggregate_v2</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,298 Finished: 0025_metrics_counters_aggregate_v2</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,302 Running migration: 0026_metrics_counters_v2_writing_matview</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,307 Finished: 0026_metrics_counters_v2_writing_matview</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,311 Running migration: 0027_fix_migration_0026</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,321 Finished: 0027_fix_migration_0026</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,326 Running migration: 0028_metrics_sets_aggregate_v2</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,356 Finished: 0028_metrics_sets_aggregate_v2</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,361 Running migration: 0029_metrics_distributions_aggregate_v2</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,392 Finished: 0029_metrics_distributions_aggregate_v2</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,396 Running migration: 0030_metrics_distributions_v2_writing_mv</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,407 Finished: 0030_metrics_distributions_v2_writing_mv</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,411 Running migration: 0031_metrics_sets_v2_writing_mv</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,420 Finished: 0031_metrics_sets_v2_writing_mv</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,425 Running migration: 0032_redo_0030_and_0031_without_timestamps</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,442 Finished: 0032_redo_0030_and_0031_without_timestamps</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,447 Running migration: 0033_metrics_cleanup_old_views</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,469 Finished: 0033_metrics_cleanup_old_views</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,473 Running migration: 0034_metrics_cleanup_old_tables</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,483 Finished: 0034_metrics_cleanup_old_tables</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,489 Running migration: 0001_sessions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,512 Finished: 0001_sessions</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,517 Running migration: 0002_sessions_aggregates</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,585 Finished: 0002_sessions_aggregates</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,590 Running migration: 0003_sessions_matview</span></span><br><span class="line"><span class="string">2022-05-21 13:24:26,602 Finished: 0003_sessions_matview</span></span><br><span class="line"><span class="string">Finished running migrations</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">▶ Creating additional Kafka topics ...</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Running</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Healthy</span></span><br><span class="line"><span class="string">Created topic ingest-attachments.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Running</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Healthy</span></span><br><span class="line"><span class="string">Created topic ingest-transactions.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Running</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Healthy</span></span><br><span class="line"><span class="string">Created topic ingest-events.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">▶ Ensuring proper PostgreSQL version ...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">▶ Setting up / migrating database ...</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-postgres-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-smtp-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-memcached-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-symbolicator-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Running</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Running</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Running</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Running</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-api-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-sessions-consumer-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-replacer-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-consumer-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-transactions-consumer-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-outcomes-consumer-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-transactions-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-events-1  Creating</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-memcached-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-transactions-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-events-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-replacer-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-smtp-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-api-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-symbolicator-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-outcomes-consumer-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-postgres-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-sessions-consumer-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-transactions-consumer-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-consumer-1  Created</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-smtp-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-memcached-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-postgres-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-symbolicator-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-memcached-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-zookeeper-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Waiting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-smtp-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-symbolicator-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-postgres-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-clickhouse-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-redis-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-kafka-1  Healthy</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-consumer-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-transactions-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-sessions-consumer-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-transactions-consumer-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-api-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-outcomes-consumer-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-events-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-replacer-1  Starting</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-transactions-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-transactions-consumer-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-api-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-consumer-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-replacer-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-outcomes-consumer-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-sessions-consumer-1  Started</span></span><br><span class="line"><span class="string">Container sentry-self-hosted-snuba-subscription-consumer-events-1  Started</span></span><br><span class="line"><span class="string">Updating certificates in /etc/ssl/certs...</span></span><br><span class="line"><span class="string">0 added, 0 removed; done.</span></span><br><span class="line"><span class="string">Running hooks in /etc/ca-certificates/update.d...</span></span><br><span class="line"><span class="string">done.</span></span><br><span class="line"><span class="string">Installing additional dependencies...</span></span><br><span class="line"><span class="string">WARNING: Running pip as the &#x27;</span>root<span class="string">&#x27; user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">13:25:15 [WARNING] sentry.utils.geo: Error opening GeoIP database: /geoip/GeoLite2-City.mmdb</span></span><br><span class="line"><span class="string">13:25:15 [WARNING] sentry.utils.geo: Error opening GeoIP database in Rust: /geoip/GeoLite2-City.mmdb</span></span><br><span class="line"><span class="string">13:25:17 [INFO] sentry.plugins.github: apps-not-configured</span></span><br><span class="line"><span class="string">Running migrations for default</span></span><br><span class="line"><span class="string">Operations to perform:</span></span><br><span class="line"><span class="string">  Apply all migrations: admin, auth, contenttypes, nodestore, sentry, sessions, sites, social_auth</span></span><br><span class="line"><span class="string">Running migrations:</span></span><br><span class="line"><span class="string">  Applying sentry.0001_squashed_0200_release_indices... OK</span></span><br><span class="line"><span class="string">  Applying contenttypes.0001_initial... OK</span></span><br><span class="line"><span class="string">  Applying admin.0001_initial... OK</span></span><br><span class="line"><span class="string">  Applying admin.0002_logentry_remove_auto_add... OK</span></span><br><span class="line"><span class="string">  Applying admin.0003_logentry_add_action_flag_choices... OK</span></span><br><span class="line"><span class="string">  Applying contenttypes.0002_remove_content_type_name... OK</span></span><br><span class="line"><span class="string">  Applying auth.0001_initial... OK</span></span><br><span class="line"><span class="string">  Applying auth.0002_alter_permission_name_max_length... OK</span></span><br><span class="line"><span class="string">  Applying auth.0003_alter_user_email_max_length... OK</span></span><br><span class="line"><span class="string">  Applying auth.0004_alter_user_username_opts... OK</span></span><br><span class="line"><span class="string">  Applying auth.0005_alter_user_last_login_null... OK</span></span><br><span class="line"><span class="string">  Applying auth.0006_require_contenttypes_0002... OK</span></span><br><span class="line"><span class="string">  Applying auth.0007_alter_validators_add_error_messages... OK</span></span><br><span class="line"><span class="string">  Applying auth.0008_alter_user_username_max_length... OK</span></span><br><span class="line"><span class="string">  Applying auth.0009_alter_user_last_name_max_length... OK</span></span><br><span class="line"><span class="string">  Applying auth.0010_alter_group_name_max_length... OK</span></span><br><span class="line"><span class="string">  Applying auth.0011_update_proxy_permissions... OK</span></span><br><span class="line"><span class="string">  Applying nodestore.0001_initial... OK</span></span><br><span class="line"><span class="string">  Applying nodestore.0002_nodestore_no_dictfield... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0201_semver_package... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0202_org_slug_upper_idx... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0203_groupedmessage_status_index... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0204_use_project_team_for_team_key_transactions... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0205_semver_backfill... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0206_organization_require_email_verification_flag... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0207_release_adoption... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0208_add_team_scope... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0209_avatar_remove_file_fk... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0210_backfill_project_transaction_thresholds... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0211_add_artifact_count... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0212_appconnectbuilds... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0213_rule_project_status_owner_index... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0214_activity_project_type_datetime_idx... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0215_fix_state... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0216_cdc_setup_replication_index... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0217_debugfile_remove_project_fk... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0218_releasefile_remove_fks... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0219_exporteddatablob_remove_blob_fk... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0220_add_current_release_version_group_resolution... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0221_add_appconnect_upload_dates... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0222_add_datetime_index_to_auditlogentry... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0223_semver_backfill_2... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0224_has_sessions_flag... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0225_latest_appconnect_builds_check... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0226_add_visits... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0227_backfill_visits... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0228_update_auditlog_index_with_entry... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0229_drop_jiratenant... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0230_sentry_app_config_jsonfield... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0231_alert_rule_comparison_delta... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0232_backfill_missed_semver_releases... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0233_recreate_subscriptions_in_snuba... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0234_grouphistory... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0235_add_metricskeyindexer_table... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0236_remove_legacy_key_transactions... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0237_recreate_subscriptions_in_snuba... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0238_remove_scheduleddeletion_aborted... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0239_drop_scheduleddeletion_aborted... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0240_grouphistory_index... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0241_grouphistory_null_actor... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0242_delete_removed_plugin_data... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0243_delete_visualstudio_repo_data... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0244_organization_and_integration_foreign_keys... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0245_delete_itunes_credentials... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0246_incident_snapshots_remove_fks... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0247_add_color_column... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0248_add_popularity_column... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0249_add_avatar_type_back... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0250_backfill_popularity... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0251_sentryappavatar_sentryapp_not_unique... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0252_code_mapping_cascade_delete... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0253_add_widget_type... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0254_org_integration_grace_period_end... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0255_delete_code_mappings_with_no_integration... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0256_create_docintegration_table... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0257_add_target_id_and_type_to_integrationfeature... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0258_create_docintegrationavatar_table... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0259_delete_codeowners_and_code_mappings_with_no_integration... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0260_backfill_integrationfeature... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0261_prepare_remove_sentry_app_column... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0262_drop_sentry_app_from_integrationfeature... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0263_remove_not_null_integrationfeature... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0264_use_booleanfield_docintegration... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0265_add_userrole... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0266_add_dashboard_widget_detail_field... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0267_sentry_release_version_btree... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0268_rename_issue_widget_query_fields... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0269_alertrule_remove_unique_name... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0270_group_history_project_date_added_index... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0271_add_codeowners_auto_sync_setting... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0272_seq_scan_indexes... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0273_fix_grouplink_seqscans... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0274_add_dashboardwidgetquery_columns_aggregates... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0275_rule_fire_history... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0276_rulefirehistory_date_added_index... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0277_backfill_dashboard_widget_query_columns_aggregates... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0278_backfill_codeowners_auto_sync_setting... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0279_add_limit_dashboard_widget... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0280_extend_commit_author_email_length... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0281_add_new_indexer_table... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0282_add_field_aliases_dashboard_widget_query... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0283_extend_externalissue_key... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0284_metrics_indexer_alter_seq... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0285_add_organization_member_team_role... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0286_backfill_alertrule_organization... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0287_backfill_snubaquery_environment... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0288_fix_savedsearch_state... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0289_dashboardwidgetquery_convert_orderby_to_field... OK</span></span><br><span class="line"><span class="string">  Applying sentry.0290_fix_project_has_releases... OK</span></span><br><span class="line"><span class="string">  Applying sessions.0001_initial... OK</span></span><br><span class="line"><span class="string">  Applying sites.0001_initial... OK</span></span><br><span class="line"><span class="string">  Applying sites.0002_alter_domain_unique... OK</span></span><br><span class="line"><span class="string">  Applying social_auth.0001_initial... OK</span></span><br><span class="line"><span class="string">13:25:56 [WARNING] sentry: Cannot initiate onboarding for organization (1) due to missing owners</span></span><br><span class="line"><span class="string">Created internal Sentry project (slug=internal, id=1)</span></span><br><span class="line"><span class="string">Creating missing DSNs</span></span><br><span class="line"><span class="string">Correcting Group.num_comments counter</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Did not prompt for user creation due to non-interactive shell.</span></span><br><span class="line"><span class="string">Run the following command to create one yourself (recommended):</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  docker compose run --rm web createuser</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">▶ Migrating file storage ...</span></span><br><span class="line"><span class="string">Unable to find image &#x27;</span>alpine:latest<span class="string">&#x27; locally</span></span><br><span class="line"><span class="string">latest: Pulling from library/alpine</span></span><br><span class="line"><span class="string">df9b9388f04a: Already exists</span></span><br><span class="line"><span class="string">Digest: sha256:4edbd2beb5f78b1014028f4fbb99f3237d9561100b6881aabbf5acce2c4f9454</span></span><br><span class="line"><span class="string">Status: Downloaded newer image for alpine:latest</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">▶ Setting up GeoIP integration ...</span></span><br><span class="line"><span class="string">Setting up IP address geolocation ...</span></span><br><span class="line"><span class="string">Installing (empty) IP address geolocation database ... done.</span></span><br><span class="line"><span class="string">IP address geolocation is not configured for updates.</span></span><br><span class="line"><span class="string">See https://develop.sentry.dev/self-hosted/geolocation/ for instructions.</span></span><br><span class="line"><span class="string">Error setting up IP address geolocation.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">-----------------------------------------------------------------</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">You&#x27;</span>re all <span class="keyword">done</span>! Run the following <span class="built_in">command</span> to get Sentry running:</span><br><span class="line"></span><br><span class="line">  docker compose up -d</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>以上で完了。</p>
<p>もし、下記のようなエラーが出たら、 WSL が 1 のままであることを疑う。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ ./install.sh --skip-user-prompt</span><br><span class="line">▶ Parsing <span class="built_in">command</span> line ...</span><br><span class="line"></span><br><span class="line">▶ Initializing Docker Compose ...</span><br><span class="line"></span><br><span class="line">▶ Setting up error handling ...</span><br><span class="line"></span><br><span class="line">▶ Checking <span class="keyword">for</span> latest commit ...</span><br><span class="line">skipped</span><br><span class="line"></span><br><span class="line">▶ Checking minimum requirements ...</span><br><span class="line">An error occurred, caught SIGERR on line 8</span><br><span class="line">Cleaning up...</span><br></pre></td></tr></table></figure>

<h2 id="コンテナの起動"><a href="#コンテナの起動" class="headerlink" title="コンテナの起動"></a>コンテナの起動</h2><p>既にコンテナは起動しているはずだが、起動していなかったら下記で起動。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> docker/sentry</span><br><span class="line">$ docker compose up -d</span><br></pre></td></tr></table></figure>

<h2 id="ユーザの作成"><a href="#ユーザの作成" class="headerlink" title="ユーザの作成"></a>ユーザの作成</h2><p><code>--skip-user-promp</code> をつけてインストールした場合、ユーザがいないので作成する必要がある。<br>下記を実行してユーザを作る。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> docker/sentry</span><br><span class="line">$ docker compose run --rm web createuser</span><br><span class="line">[+] Running 16/0</span><br><span class="line"> ⠿ Container sentry-self-hosted-redis-1                                     Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-zookeeper-1                                 Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-smtp-1                                      Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-clickhouse-1                                Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-memcached-1                                 Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-postgres-1                                  Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-kafka-1                                     Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-symbolicator-1                              Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-replacer-1                            Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-subscription-consumer-events-1        Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-sessions-consumer-1                   Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-api-1                                 Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-consumer-1                            Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-outcomes-consumer-1                   Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-subscription-consumer-transactions-1  Running                                0.0s</span><br><span class="line"> ⠿ Container sentry-self-hosted-snuba-transactions-consumer-1               Running                                0.0s</span><br><span class="line">[+] Running 7/7</span><br><span class="line"> ⠿ Container sentry-self-hosted-geoipupdate-1  Started                                                             0.3s</span><br><span class="line"> ⠿ Container sentry-self-hosted-zookeeper-1    Healthy                                                             0.5s</span><br><span class="line"> ⠿ Container sentry-self-hosted-kafka-1        Healthy                                                             1.6s</span><br><span class="line"> ⠿ Container sentry-self-hosted-redis-1        Healthy                                                             1.6s</span><br><span class="line"> ⠿ Container sentry-self-hosted-clickhouse-1   Healthy                                                             0.5s</span><br><span class="line"> ⠿ Container sentry-self-hosted-postgres-1     Healthy                                                             0.5s</span><br><span class="line"> ⠿ Container sentry-self-hosted-web-1          Healthy                                                             0.5s</span><br><span class="line">Updating certificates <span class="keyword">in</span> /etc/ssl/certs...</span><br><span class="line">0 added, 0 removed; <span class="keyword">done</span>.</span><br><span class="line">Running hooks <span class="keyword">in</span> /etc/ca-certificates/update.d...</span><br><span class="line"><span class="keyword">done</span>.</span><br><span class="line">13:39:00 [INFO] sentry.plugins.github: apps-not-configured</span><br><span class="line">Email: admin@gmail.com</span><br><span class="line">Password:</span><br><span class="line">Repeat <span class="keyword">for</span> confirmation:</span><br><span class="line">Should this user be a superuser? [y/N]: y</span><br><span class="line">Added to organization: sentry</span><br><span class="line">Should this user have Super Admin role? (This grants them all permissions available) [y/N]: y</span><br><span class="line">User created: admin@gmail.com</span><br></pre></td></tr></table></figure>

<h2 id="ブラウザからアクセス"><a href="#ブラウザからアクセス" class="headerlink" title="ブラウザからアクセス"></a>ブラウザからアクセス</h2><p>デフォルトポートは 9000。<br><code>docker ps -a</code> で確認もできる。</p>
<p><a href="../../../../public/2022/05/21/4423/login.png"><img src="../../../../public/2022/05/21/4423/login.png" alt="login" title="login"></a></p>
<p>先程作ったユーザでログイン。</p>
<p><a href="../../../../public/2022/05/21/4423/welcome.png"><img src="../../../../public/2022/05/21/4423/welcome.png" alt="login" title="welcome"></a></p>
<p>この辺りはとりあえず無視。</p>
<p><a href="../../../../public/2022/05/21/4423/dashboard.png"><img src="../../../../public/2022/05/21/4423/dashboard.png" alt="dashboard" title="dashboard"></a></p>
<p>無事に動いた。</p>
<h2 id="プロジェクトを作る"><a href="#プロジェクトを作る" class="headerlink" title="プロジェクトを作る"></a>プロジェクトを作る</h2><p>左側の <strong>[Projects]</strong> を選択し、Sentry を使用するアプリのプラットフォームを選択する。<br>ここでは <strong>.NET</strong> を選択。</p>
<p><a href="../../../../public/2022/05/21/4423/selectproject.png"><img src="../../../../public/2022/05/21/4423/selectproject.png" alt="selectproject" title="selectproject"></a></p>
<p>選択後、一番下の <strong>[Create Project]</strong> をクリックする。</p>
<p><a href="../../../../public/2022/05/21/4423/howto.png"><img src="../../../../public/2022/05/21/4423/howto.png" alt="howto" title="howto"></a></p>
<p>Sentry を使用するための手順とサンプルコードが表示される。<br>nuget でインストールするだけのお手軽さ。</p>
<h2 id="クラッシュさせてみる"><a href="#クラッシュさせてみる" class="headerlink" title="クラッシュさせてみる"></a>クラッシュさせてみる</h2><p>簡単な割り算のプログラムを作り、0 除算させてみる。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> Sentry;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Demo</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">using</span> (SentrySdk.Init(o =&gt;</span><br><span class="line">                   &#123;</span><br><span class="line">                       o.Dsn = <span class="string">&quot;http://7faf7bce38604a47a2a25ff456572836@localhost:9000/2&quot;</span>;</span><br><span class="line">                       <span class="comment">// When configuring for the first time, to see what the SDK is doing:</span></span><br><span class="line">                       o.Debug = <span class="literal">true</span>;</span><br><span class="line">                       <span class="comment">// Set traces_sample_rate to 1.0 to capture 100% of transactions for performance monitoring.</span></span><br><span class="line">                       <span class="comment">// We recommend adjusting this value in production.</span></span><br><span class="line">                       o.TracesSampleRate = <span class="number">1.0</span>;</span><br><span class="line">                   &#125;))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// App code goes here. Dispose the SDK before exiting to flush events.</span></span><br><span class="line">                <span class="keyword">var</span> left = <span class="keyword">int</span>.Parse(args[<span class="number">0</span>]);</span><br><span class="line">                <span class="keyword">var</span> right = <span class="keyword">int</span>.Parse(args[<span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">var</span> divided = left / right;</span><br><span class="line">                Console.WriteLine(divided);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>これを実行。</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&gt; dotnet run -c Release -- <span class="number">10</span> <span class="number">0</span></span><br><span class="line"><span class="function">  Debug: <span class="title">Logging</span> <span class="title">enabled</span> <span class="title">with</span> <span class="title">ConsoleDiagnosticLogger</span> <span class="title">and</span> <span class="title">min</span> <span class="title">level</span>: <span class="title">Debug</span></span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Initializing</span> <span class="title">Hub</span> <span class="title">for</span> <span class="title">Dsn</span>: &#x27;<span class="title">http</span>://7<span class="title">faf7bce38604a47a2a25ff456572836</span>@<span class="title">localhost</span>:9000/2&#x27;.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Using</span> &#x27;<span class="title">GzipBufferedRequestBodyHandler</span>&#x27; <span class="title">body</span> <span class="title">compression</span> <span class="title">strategy</span> <span class="title">with</span> <span class="title">level</span> <span class="title">Optimal</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">New</span> <span class="title">scope</span> <span class="title">pushed</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Registering</span> <span class="title">integration</span>: &#x27;<span class="title">AutoSessionTrackingIntegration</span>&#x27;.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Registering</span> <span class="title">integration</span>: &#x27;<span class="title">AppDomainUnhandledExceptionIntegration</span>&#x27;.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Registering</span> <span class="title">integration</span>: &#x27;<span class="title">AppDomainProcessExitIntegration</span>&#x27;.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Registering</span> <span class="title">integration</span>: &#x27;<span class="title">TaskUnobservedTaskExceptionIntegration</span>&#x27;.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Registering</span> <span class="title">integration</span>: &#x27;<span class="title">SentryDiagnosticListenerIntegration</span>&#x27;.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Failed</span> <span class="title">to</span> <span class="title">end</span> <span class="title">session</span> <span class="title">because</span> <span class="title">there</span> <span class="title">is</span> <span class="title">none</span> <span class="title">active</span>.</span></span><br><span class="line"><span class="function">   <span class="title">Info</span>: <span class="title">Capturing</span> <span class="title">event</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Running</span> <span class="title">processor</span> <span class="title">on</span> <span class="title">exception</span>: <span class="title">Attempted</span> <span class="title">to</span> <span class="title">divide</span> <span class="title">by</span> <span class="title">zero</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Creating</span> <span class="title">SentryStackTrace</span>. <span class="title">isCurrentStackTrace</span>: <span class="title">False</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Running</span> <span class="title">main</span> <span class="title">event</span> <span class="title">processor</span> <span class="title">on</span>: <span class="title">Event</span> 66<span class="title">d3ab4f2ab045b3b0123044e06f1538</span></span></span><br><span class="line"><span class="function">   <span class="title">Info</span>: <span class="title">Envelope</span> <span class="title">queued</span> <span class="title">up</span>: &#x27;66<span class="title">d3ab4f2ab045b3b0123044e06f1538</span>&#x27;</span></span><br><span class="line"><span class="function">   <span class="title">Info</span>: <span class="title">Disposing</span> <span class="title">the</span> <span class="title">Hub</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Tracking</span> <span class="title">depth</span>: 1.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Envelope</span> 66<span class="title">d3ab4f2ab045b3b0123044e06f1538</span> <span class="title">handed</span> <span class="title">off</span> <span class="title">to</span> <span class="title">transport</span>. #1 <span class="title">in</span> <span class="title">queue</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Envelope</span> &#x27;66<span class="title">d3ab4f2ab045b3b0123044e06f1538</span>&#x27; <span class="title">sent</span> <span class="title">successfully</span>. <span class="title">Payload</span>:</span></span><br><span class="line"><span class="function">&#123;&quot;<span class="title">sdk</span>&quot;:&#123;&quot;<span class="title">name</span>&quot;:&quot;<span class="title">sentry.dotnet</span>&quot;,&quot;<span class="title">version</span>&quot;:&quot;3.17.1&quot;&#125;,&quot;<span class="title">event_id</span>&quot;:&quot;66<span class="title">d3ab4f2ab045b3b0123044e06f1538</span>&quot;&#125;</span></span><br><span class="line"><span class="function">&#123;&quot;<span class="title">type</span>&quot;:&quot;<span class="title">event</span>&quot;,&quot;<span class="title">length</span>&quot;:3227&#125;</span></span><br><span class="line"><span class="function">&#123;&quot;<span class="title">modules</span>&quot;:&#123;&quot;<span class="title">System.Private.CoreLib</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">Demo</span>&quot;:&quot;1.0.0.0&quot;,&quot;<span class="title">System.Runtime</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">Sentry</span>&quot;:&quot;3.17.1.0&quot;,&quot;<span class="title">System.Net.Primitives</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.IO.Compression</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Console</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Collections.Concurrent</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Threading</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Text.Encoding.Extensions</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Private.Uri</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Diagnostics.Process</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Net.Http</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.ComponentModel.Primitives</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Diagnostics.Tracing</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">Microsoft.Win32.Primitives</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Diagnostics.DiagnosticSource</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Runtime.InteropServices</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Net.Security</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Security.Cryptography.X509Certificates</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Collections</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Linq</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Diagnostics.StackTrace</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Reflection.Metadata</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Collections.Immutable</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Runtime.InteropServices.RuntimeInformation</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Memory</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Text.RegularExpressions</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Reflection.Emit.ILGeneration</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Reflection.Emit.Lightweight</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Reflection.Primitives</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Linq.Expressions</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Threading.Thread</span>&quot;:&quot;6.0.0.0&quot;,&quot;<span class="title">System.Threading.ThreadPool</span>&quot;:&quot;6.0.0.0&quot;&#125;,&quot;<span class="title">event_id</span>&quot;:&quot;66<span class="title">d3ab4f2ab045b3b0123044e06f1538</span>&quot;,&quot;<span class="title">timestamp</span>&quot;:&quot;2022-05-21<span class="title">T14</span>:05:17.2154715+00:00&quot;,&quot;<span class="title">platform</span>&quot;:&quot;<span class="title">csharp</span>&quot;,&quot;<span class="title">release</span>&quot;:&quot;<span class="title">Demo</span>@1.0.0&quot;,&quot;<span class="title">exception</span>&quot;:&#123;&quot;<span class="title">values</span>&quot;:[&#123;&quot;<span class="title">type</span>&quot;:&quot;<span class="title">System.DivideByZeroException</span>&quot;,&quot;<span class="title">value</span>&quot;:&quot;<span class="title">Attempted</span> <span class="title">to</span> <span class="title">divide</span> <span class="title">by</span> <span class="title">zero</span>.&quot;,&quot;<span class="title">module</span>&quot;:&quot;<span class="title">System.Private.CoreLib</span>, <span class="title">Version</span>=6.0.0.0, <span class="title">Culture</span>=<span class="title">neutral</span>, <span class="title">PublicKeyToken</span>=7<span class="title">cec85d7bea7798e</span>&quot;,&quot;<span class="title">thread_id</span>&quot;:1,&quot;<span class="title">stacktrace</span>&quot;:&#123;&quot;<span class="title">frames</span>&quot;:[&#123;&quot;<span class="title">filename</span>&quot;:&quot;<span class="title">D</span>:\\<span class="title">Works</span>\\<span class="title">OpenSource</span>\\<span class="title">Demo</span>\\<span class="title">Sentry</span>\\01<span class="title">_Simple</span>\\<span class="title">sources</span>\\<span class="title">Demo</span>\\<span class="title">Program.cs</span>&quot;,&quot;<span class="title">function</span>&quot;:&quot;<span class="title">void</span> <span class="title">Program.Main</span>(<span class="title">string</span>[] <span class="title">args</span>)&quot;,&quot;<span class="title">lineno</span>&quot;:23,&quot;<span class="title">colno</span>&quot;:17,&quot;<span class="title">in_app</span>&quot;:<span class="title">true</span>,&quot;<span class="title">package</span>&quot;:&quot;<span class="title">Demo</span>, <span class="title">Version</span>=1.0.0.0, <span class="title">Culture</span>=<span class="title">neutral</span>, <span class="title">PublicKeyToken</span>=<span class="title">null</span>&quot;,&quot;<span class="title">instruction_offset</span>&quot;:37&#125;]&#125;,&quot;<span class="title">mechanism</span>&quot;:&#123;&quot;<span class="title">type</span>&quot;:&quot;<span class="title">AppDomain.UnhandledException</span>&quot;,&quot;<span class="title">handled</span>&quot;:<span class="title">false</span>&#125;&#125;]&#125;,&quot;<span class="title">level</span>&quot;:&quot;<span class="title">error</span>&quot;,&quot;<span class="title">request</span>&quot;:&#123;&#125;,&quot;<span class="title">contexts</span>&quot;:&#123;&quot;<span class="title">os</span>&quot;:&#123;&quot;<span class="title">type</span>&quot;:&quot;<span class="title">os</span>&quot;,&quot;<span class="title">raw_description</span>&quot;:&quot;<span class="title">Microsoft</span> <span class="title">Windows</span> 10.0.19044&quot;&#125;,&quot;<span class="title">runtime</span>&quot;:&#123;&quot;<span class="title">type</span>&quot;:&quot;<span class="title">runtime</span>&quot;,&quot;<span class="title">name</span>&quot;:&quot;.<span class="title">NET</span>&quot;,&quot;<span class="title">version</span>&quot;:&quot;6.0.5&quot;,&quot;<span class="title">raw_description</span>&quot;:&quot;.<span class="title">NET</span> 6.0.5&quot;&#125;,&quot;<span class="title">device</span>&quot;:&#123;&quot;<span class="title">type</span>&quot;:&quot;<span class="title">device</span>&quot;,&quot;<span class="title">timezone</span>&quot;:&quot;<span class="title">Tokyo</span> <span class="title">Standard</span> <span class="title">Time</span>&quot;,&quot;<span class="title">timezone_display_name</span>&quot;:&quot;(<span class="title">UTC</span>\<span class="title">u002B09</span>:00) \<span class="title">u5927</span>\<span class="title">u962A</span>\<span class="title">u3001</span>\<span class="title">u672D</span>\<span class="title">u5E4C</span>\<span class="title">u3001</span>\<span class="title">u6771</span>\<span class="title">u4EAC</span>&quot;,&quot;<span class="title">boot_time</span>&quot;:&quot;2022-05-17<span class="title">T04</span>:06:00.1351675+00:00&quot;&#125;,&quot;<span class="title">Current</span> <span class="title">Culture</span>&quot;:&#123;&quot;<span class="title">name</span>&quot;:&quot;<span class="title">ja</span>-<span class="title">JP</span>&quot;,&quot;<span class="title">display_name</span>&quot;:&quot;\<span class="title">u65E5</span>\<span class="title">u672C</span>\<span class="title">u8A9E</span> (\<span class="title">u65E5</span>\<span class="title">u672C</span>)&quot;,&quot;<span class="title">calendar</span>&quot;:&quot;<span class="title">GregorianCalendar</span>&quot;&#125;,&quot;<span class="title">Memory</span> <span class="title">Info</span>&quot;:&#123;&quot;<span class="title">allocated_bytes</span>&quot;:484296,&quot;<span class="title">high_memory_load_threshold_bytes</span>&quot;:61668871372,&quot;<span class="title">total_available_memory_bytes</span>&quot;:68520968192,&quot;<span class="title">finalization_pending_count</span>&quot;:0,&quot;<span class="title">compacted</span>&quot;:<span class="title">false</span>,&quot;<span class="title">concurrent</span>&quot;:<span class="title">false</span>,&quot;<span class="title">pause_durations</span>&quot;:[0,0]&#125;,&quot;<span class="title">Dynamic</span> <span class="title">Code</span>&quot;:&#123;&quot;<span class="title">Compiled</span>&quot;:<span class="title">true</span>,&quot;<span class="title">Supported</span>&quot;:<span class="title">true</span>&#125;,&quot;<span class="title">app</span>&quot;:&#123;&quot;<span class="title">type</span>&quot;:&quot;<span class="title">app</span>&quot;,&quot;<span class="title">app_start_time</span>&quot;:&quot;2022-05-21<span class="title">T14</span>:05:16.6546488+00:00&quot;&#125;,&quot;<span class="title">ThreadPool</span> <span class="title">Info</span>&quot;:&#123;&quot;<span class="title">min_worker_threads</span>&quot;:12,&quot;<span class="title">min_completion_port_threads</span>&quot;:12,&quot;<span class="title">max_worker_threads</span>&quot;:32767,&quot;<span class="title">max_completion_port_threads</span>&quot;:1000,&quot;<span class="title">available_worker_threads</span>&quot;:32767,&quot;<span class="title">available_completion_port_threads</span>&quot;:1000&#125;&#125;,&quot;<span class="title">user</span>&quot;:&#123;&#125;,&quot;<span class="title">environment</span>&quot;:&quot;<span class="title">production</span>&quot;,&quot;<span class="title">sdk</span>&quot;:&#123;&quot;<span class="title">packages</span>&quot;:[&#123;&quot;<span class="title">name</span>&quot;:&quot;<span class="title">nuget:sentry</span>.<span class="title">dotnet</span>&quot;,&quot;<span class="title">version</span>&quot;:&quot;3.17.1&quot;&#125;],&quot;<span class="title">name</span>&quot;:&quot;<span class="title">sentry.dotnet</span>&quot;,&quot;<span class="title">version</span>&quot;:&quot;3.17.1&quot;&#125;&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Signaling</span> <span class="title">flush</span> <span class="title">completed</span>.</span></span><br><span class="line"><span class="function">  <span class="title">Debug</span>: <span class="title">Successfully</span> <span class="title">flushed</span> <span class="title">all</span> <span class="title">events</span> <span class="title">up</span> <span class="title">to</span> <span class="title">call</span> <span class="title">to</span> <span class="title">FlushAsync</span>.</span></span><br><span class="line"><span class="function"><span class="title">Unhandled</span> <span class="title">exception</span>. <span class="title">System.DivideByZeroException</span>: <span class="title">Attempted</span> <span class="title">to</span> <span class="title">divide</span> <span class="title">by</span> <span class="title">zero</span>.</span></span><br><span class="line"><span class="function">   <span class="title">at</span> <span class="title">Demo.Program.Main</span>(<span class="title">String</span>[] <span class="title">args</span>) <span class="title">in</span> <span class="title">D</span>:\<span class="title">Works</span>\<span class="title">OpenSource</span>\<span class="title">Demo</span>\<span class="title">Sentry</span>\01<span class="title">_Simple</span>\<span class="title">sources</span>\<span class="title">Demo</span>\<span class="title">Program.cs:line</span> 23</span></span><br><span class="line"><span class="function">   <span class="title">Info</span>: <span class="title">Disposing</span> <span class="title">the</span> <span class="title">Hub</span>.</span></span><br></pre></td></tr></table></figure>

<p>色々出てきました。</p>
<h2 id="Sentry-で確認"><a href="#Sentry-で確認" class="headerlink" title="Sentry で確認"></a>Sentry で確認</h2><p><a href="../../../../public/2022/05/21/4423/issues.png"><img src="../../../../public/2022/05/21/4423/issues.png" alt="issues" title="issues"></a></p>
<p>非常に見やすい形式で、スタックトレースとかが表示されています。</p>
<p><a href="../../../../public/2022/05/21/4423/details.png"><img src="../../../../public/2022/05/21/4423/details.png" alt="details" title="details"></a></p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p><code>using</code> で囲うだけで、クラッシュレポートを送信してくれる使いやすさ、わかりやすい UI と利用価値はありそう。<br>調べると、 <strong>Nlog</strong> などのロギングライブラリの拡張を利用して、レポートを送信できるらしい。<br>その場合は、コードの改修がいらないのかな？</p>
<p>nuget を見た感じ</p>
<ul>
<li>NLog</li>
<li>Log4Net</li>
<li>Serilog</li>
</ul>
<p>に対応している模様。</p>
<p>あと、production で使うとなると、そもそも外部ネットワークに繋がっていないとか、ローカルネットワークでも Sentry のサーバーを置くようなリソースがない、ってのは日本の IT だと十分あり得る。</p>
<p>Sentry の出力結果をファイルにして、ログと一緒に吐き出したりできないのか？<br>そうすれば SE の人たちにそのファイルの回収をお願いして、という温かみのある (笑) 伝統手法で解析ができるかも。</p>
<h1 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h1><p><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi/Demo/tree/master/Sentry/01_Simple">https://github.com/takuya-takeuchi/Demo/tree/master/Sentry/01_Simple</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2022-05-21</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Windows/" title="Windows">Windows </a><a class="tag" href="/categories/Sentry/" title="Sentry">Sentry </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://takuya-takeuchi.github.io/2022/05/21/4423/,A certain engineer &quot;COMPLEX&quot;,開発メモ その264 Sentry を味見してみる,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2022/05/27/4424/" title="開発メモ その265 ARM の種別">前へ</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2022/05/21/4422/" title="開発メモ その263 WSL2 のメモリ使用量を確認及び変更する">次へ</a></li></ul></div></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/search.js"></script></body></html>