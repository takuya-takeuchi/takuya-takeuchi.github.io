<!DOCTYPE html><html lang="ja-JP"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><link rel="icon" href="/images/favicon.ico" type="image/x-icon"><title>開発メモ その287 Cisco のルータを使ってみる · A certain engineer "COMPLEX"</title><meta name="description" content="IntroductionCisco のルータ Catalyst 2960C シリーズスイッチ WS-C2960C-8TC-L V01 を中古で入手したので、電源入れて使えるようにするまでの備忘録。
How to use?接続コンソールケーブルを接続する。自分は USB TypeC-RJ45 シリアル"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/blogcard.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.1.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.webp" style="width:127px;"><h3 title=""><a href="/">A certain engineer &quot;COMPLEX&quot;</a></h3><div class="description"><p>とある技術者の劣等感</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="https://twitter.com/takuya_takeuchi"><i class="fa fa-twitter-square"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.facebook.com/takuya.takeuchi.sns"><i class="fa fa-facebook-square"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="search"><div class="text"><input placeholder="検索ワードを入力してください" id="search-text" onkeypress="javascript:search(event)"></div><div class="btn"><a><i class="fa fa-search"></i></a></div></div><div class="nav"><li><a href="/">ホーム</a></li><li><a href="/archives">アーカイブ</a></li><li><a href="/tags">タグ</a></li><li><a href="/about">自己紹介</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>開発メモ その287 Cisco のルータを使ってみる</a></h3></div><div class="post-content"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p><strong>Cisco</strong> のルータ <strong>Catalyst 2960C シリーズスイッチ WS-C2960C-8TC-L V01</strong> を中古で入手したので、電源入れて使えるようにするまでの備忘録。</p>
<h1 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use?"></a>How to use?</h1><h2 id="接続"><a href="#接続" class="headerlink" title="接続"></a>接続</h2><p>コンソールケーブルを接続する。<br>自分は USB TypeC-RJ45 シリアルケーブルを使用。</p>
<p>ケーブルを PC に接続。<br><strong>USB Serial Port</strong> として認識されたことをデバイスマネージャーから確認。<br>この <strong>COM数字</strong> を覚えておく。</p>
<p><a href="../../../../public/2022/07/09/4446/001.png"><img src="../../../../public/2022/07/09/4446/001.png" alt="device manager" title="device manager"></a></p>
<p>ターミナルソフトを用意。<br>自分は <a target="_blank" rel="noopener" href="https://kmiya-culti.github.io/RLogin/">RLogin</a> を使用。<br>先程確認した <strong>COM数字</strong> を <strong>TCPポート</strong> に指定。</p>
<p><a href="../../../../public/2022/07/09/4446/002.png"><img src="../../../../public/2022/07/09/4446/002.png" alt="rlogin" title="rlogin"></a></p>
<p>ホスト名に使用する値は</p>
<table>
<thead>
<tr>
<th>意味</th>
<th>値</th>
<th>例</th>
</tr>
</thead>
<tbody><tr>
<td>ビットレート</td>
<td></td>
<td>9600</td>
</tr>
<tr>
<td>データビット</td>
<td></td>
<td>8</td>
</tr>
<tr>
<td>パリティ</td>
<td>NOP,ODD,EDEN,MARK,SPC</td>
<td>NOP</td>
</tr>
<tr>
<td>ストップビット</td>
<td></td>
<td>1</td>
</tr>
<tr>
<td>フロー制御</td>
<td>NOC,CTS,XON</td>
<td>NOC</td>
</tr>
</tbody></table>
<p>らしい。<br>ここではググって調べた <strong>9600;8;NOP;1;NOC</strong> を指定。</p>
<h2 id="初期設定"><a href="#初期設定" class="headerlink" title="初期設定"></a>初期設定</h2><p>接続すると、下記のような画面が現れる。<br>初期設定をするか問われたので <strong>yes</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">         --- System Configuration Dialog ---</span><br><span class="line"></span><br><span class="line">Enable secret warning</span><br><span class="line">----------------------------------</span><br><span class="line">In order to access the device manager, an enable secret is required</span><br><span class="line">If you enter the initial configuration dialog, you will be prompted for the enable secret</span><br><span class="line">If you choose not to enter the intial configuration dialog, or if you exit setup without setting the enable secret,</span><br><span class="line">please set an enable secret using the following CLI in configuration mode-</span><br><span class="line">enable secret 0 &lt;cleartext password&gt;</span><br><span class="line">-----------Software, C2960C Software (C2960c405-UNIVERSALK9-M), Version 15.2(2)E3, RELEASE SOFTWARE (fc3)</span><br><span class="line">Technical Support: http://www.cisco.com/techsupport</span><br><span class="line">Copyright (c) 1986-2015 by Cisco Systems, Inc.</span><br><span class="line">Compiled Wed 26-Aug-15 10:45 by prod_rel_team</span><br><span class="line">*Jan  2 00:01:07.075: %USB_CONSOLE-6-MEDIA_RJ45: Console media-type is RJ45.-----------------------</span><br><span class="line">Would you like to enter the initial configuration dialog? [yes/no]: yes</span><br></pre></td></tr></table></figure>

<p>拡張セットアップの代わりに基本セットアップに入るか。<strong>no</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">At any point you may enter a question mark &#x27;?&#x27; for help.</span><br><span class="line">Use ctrl-c to abort configuration dialog at any prompt.</span><br><span class="line">Default settings are in square brackets &#x27;[]&#x27;.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Basic management setup configures only enough connectivity</span><br><span class="line">for management of the system, extended setup will ask you</span><br><span class="line">to configure each interface on the system</span><br><span class="line"></span><br><span class="line">Would you like to enter basic setup instead of extended setup? [yes/no]: no</span><br></pre></td></tr></table></figure>

<p>現在のインターフェースの概要を見るか。<strong>yes</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">First, would you like to see the current interface summary? [yes]: yes</span><br></pre></td></tr></table></figure>

<p>ポートの情報などが出てくる。<br>ここでホスト名を入力。<br>ここでは製品名 <strong>WS-C2960C-8TC-L</strong> にしておいた。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Interface              IP-Address      OK? Method Status                Protocol</span><br><span class="line">Vlan1                  unassigned      YES unset  up                    down    </span><br><span class="line">FastEthernet0/1        unassigned      YES unset  down                  down    </span><br><span class="line">FastEthernet0/2        unassigned      YES unset  down                  down    </span><br><span class="line">FastEthernet0/3        unassigned      YES unset  down                  down    </span><br><span class="line">FastEthernet0/4        unassigned      YES unset  down                  down    </span><br><span class="line">FastEthernet0/5        unassigned      YES unset  down                  down    </span><br><span class="line">FastEthernet0/6        unassigned      YES unset  down                  down    </span><br><span class="line">FastEthernet0/7        unassigned      YES unset  down                  down    </span><br><span class="line">FastEthernet0/8        unassigned      YES unset  down                  down    </span><br><span class="line">GigabitEthernet0/1     unassigned      YES unset  down                  down    </span><br><span class="line">GigabitEthernet0/2     unassigned      YES unset  down                  down    </span><br><span class="line"></span><br><span class="line">Configuring global parameters:</span><br><span class="line"></span><br><span class="line">  Enter host name [Switch]: WS-C2960C-8TC-L</span><br></pre></td></tr></table></figure>

<p><strong>enable secret</strong> は、特権 EXEC モードとコンフィグレーションモードへのアクセスを保護するためのパスワードとのこと。<br>適当に入力。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The enable secret is a password used to protect access to</span><br><span class="line">privileged EXEC and configuration modes. This password, after</span><br><span class="line">entered, becomes encrypted in the configuration.</span><br><span class="line">Enter enable secret:</span><br></pre></td></tr></table></figure>

<p><strong>enable password</strong> は、enable secret を指定しない場合に使用される、古いバージョンのソフトウェアに使われているらしい。<br>適当に入力だが、enable secret とは違う値を指定すること。<br>さもなくば <code>% Please choose a password that is different from the enable secret</code> と怒られる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The enable password is used when you do not specify an</span><br><span class="line">enable secret password, with some older software versions, and</span><br><span class="line">some boot images.</span><br><span class="line">Enter enable password: </span><br></pre></td></tr></table></figure>

<p><strong>virtual terminal password</strong> はネットワークインターフェースを通じてアクセスする場合に使われるパスワード。<br>これも適当に入力。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The virtual terminal password is used to protect</span><br><span class="line">access to the router over a network interface.</span><br><span class="line">Enter virtual terminal password: </span><br></pre></td></tr></table></figure>

<p>SNMP の設定をするか。<strong>no</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Configure SNMP Network Management? [no]: no</span><br></pre></td></tr></table></figure>

<p>IP の設定をするか。<strong>no</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Configure IP? [no]: no</span><br></pre></td></tr></table></figure>

<p>Vlan1 の設定をするか。<strong>yes</strong>、と答えたら、ひたすら入力を求められたので、適当に下記のようにした。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">Configuring interface parameters:</span><br><span class="line"></span><br><span class="line">Configuring interface parameters:</span><br><span class="line"></span><br><span class="line">Do you want to configure Vlan1  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/1  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/2  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/3  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/4  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/5  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/6  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/7  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure FastEthernet0/8  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure GigabitEthernet0/1  interface? [yes]: yes</span><br><span class="line"></span><br><span class="line">Do you want to configure GigabitEthernet0/2  interface? [yes]: yes</span><br><span class="line">Would you like to enable as a cluster command switch? [yes/no]: no</span><br><span class="line"></span><br><span class="line">The following configuration command script was created:</span><br><span class="line"></span><br><span class="line">hostname WS-C2960C-8TC-L</span><br><span class="line">enable secret 5 xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">enable password xxxxxx</span><br><span class="line">line vty 0 15</span><br><span class="line">password xxxxxx</span><br><span class="line">no snmp-server</span><br><span class="line">!</span><br><span class="line">no ip routing</span><br><span class="line">!</span><br><span class="line">interface Vlan1</span><br><span class="line">no ip address</span><br><span class="line">!</span><br><span class="line">interface FastEthernet0/1</span><br><span class="line">no ip address</span><br><span class="line">!</span><br><span class="line">interface FastEthernet0/2</span><br><span class="line">no ip address</span><br><span class="line">!</span><br><span class="line">interface FastEthernet0/3</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">interface FastEthernet0/4</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">interface FastEthernet0/5</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">interface FastEthernet0/6</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">interface FastEthernet0/7</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">interface FastEthernet0/8</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">interface GigabitEthernet0/1</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">interface GigabitEthernet0/2</span><br><span class="line">no ip address</span><br><span class="line">!         </span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>設定を保存せずに IOS コマンドプロンプトに戻る、設定を保存せずにセットアップに戻る、設定を NVRAM に保存して終了する、か。<strong>2</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[0] Go to the IOS command prompt without saving this config.</span><br><span class="line">[1] Return back to the setup without saving this config.</span><br><span class="line">[2] Save this configuration to nvram and exit.</span><br><span class="line"></span><br><span class="line">Enter your selection [2]: </span><br></pre></td></tr></table></figure>

<p>設定が保存されシェルに戻ってきた。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">no ip routing</span><br><span class="line">       ^</span><br><span class="line"><span class="meta">%</span><span class="bash"> Invalid input detected at <span class="string">&#x27;^&#x27;</span> marker.</span></span><br><span class="line"></span><br><span class="line">Building configuration...</span><br><span class="line">[OK]</span><br><span class="line">Use the enabled mode &#x27;configure&#x27; command to modify this configuration.</span><br><span class="line"></span><br><span class="line"><span class="meta">WS-C2960C-8TC-L&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="IP-を設定する"><a href="#IP-を設定する" class="headerlink" title="IP を設定する"></a>IP を設定する</h2><p>初期設定でやればよかったけど。</p>
<p>まず、特権 EXEC モードに移行。<br><strong>enable</strong> と入力し、パスワードを聞かれるので <strong>enable secret</strong> のパスワードを入力。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">WS-C2960C-8TC-L&gt;</span><span class="bash"><span class="built_in">enable</span></span></span><br><span class="line">Password:</span><br></pre></td></tr></table></figure>

<p>グローバルコンフィグレーションモードに移動するために、<strong>configure terminal</strong> と入力。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">WS-C2960C-8TC-L#</span><span class="bash">configure terminal</span></span><br></pre></td></tr></table></figure>

<p>インターフェイスコンフィギュレーションモードに移動するために、<strong>interface vlan 1</strong> と入力。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span><br><span class="line"><span class="meta">WS-C2960C-8TC-L(config)#</span><span class="bash">interface vlan 1</span></span><br></pre></td></tr></table></figure>

<p>IP アドレス、ネットワークマスクを設定。<br>ここでは下記のように設定。</p>
<table>
<thead>
<tr>
<th>意味</th>
<th>値</th>
</tr>
</thead>
<tbody><tr>
<td>IP アドレス</td>
<td>192.168.11.42</td>
</tr>
<tr>
<td>ネットワークマスク</td>
<td>255.255.255.0</td>
</tr>
</tbody></table>
<p>設定後 <strong>end</strong> と入力。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">WS-C2960C-8TC-L(config-if)#</span><span class="bash">ip address 192.168.11.42 255.255.255.0             </span></span><br><span class="line"><span class="meta">WS-C2960C-8TC-L(config-if)#</span><span class="bash">end</span></span><br></pre></td></tr></table></figure>

<p><strong>show ip interface</strong> で設定を確認。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">WS-C2960C-8TC-L#</span><span class="bash">show ip interface</span></span><br><span class="line">Vlan1 is up, line protocol is up</span><br><span class="line">  Internet address is 192.168.11.42/24</span><br><span class="line">  Broadcast address is 255.255.255.255</span><br><span class="line">  Address determined by setup command</span><br><span class="line">  MTU is 1500 bytes</span><br><span class="line">  Helper address is not set</span><br><span class="line">  Directed broadcast forwarding is disabled</span><br><span class="line">  Outgoing access list is not set</span><br><span class="line">  Inbound  access list is not set</span><br><span class="line">  Proxy ARP is enabled</span><br><span class="line">  Local Proxy ARP is disabled</span><br><span class="line">  Security level is default</span><br><span class="line">  Split horizon is enabled</span><br><span class="line">  ICMP redirects are always sent</span><br><span class="line">  ICMP unreachables are always sent</span><br><span class="line">  ICMP mask replies are never sent</span><br><span class="line">  IP fast switching is enabled</span><br><span class="line">  IP Flow switching is disabled</span><br><span class="line">  IP CEF switching is disabled</span><br><span class="line">  IP Null turbo vector</span><br><span class="line">  IP Null turbo vector</span><br><span class="line">  IP multicast fast switching is disabled</span><br><span class="line">  IP multicast distributed fast switching is disabled</span><br><span class="line">  IP route-cache flags are Fast</span><br><span class="line">  Router Discovery is disabled</span><br><span class="line">  IP output packet accounting is disabled</span><br><span class="line">  IP access violation accounting is disabled</span><br><span class="line">  TCP/IP header compression is disabled</span><br><span class="line">  RTP/IP header compression is disabled</span><br><span class="line">  Probe proxy name replies are disabled</span><br><span class="line">  Policy routing is disabled</span><br><span class="line">  Network address translation is disabled</span><br><span class="line">  BGP Policy Mapping is disabled</span><br><span class="line">  Input features: MCI Check</span><br><span class="line">  Output features: Check hwidb</span><br><span class="line">  WCCP Redirect outbound is disabled</span><br><span class="line">  WCCP Redirect inbound is disabled</span><br><span class="line">  WCCP Redirect exclude is disabl</span><br></pre></td></tr></table></figure>

<p>設定をスタートアップコンフィグレーションファイルに保存。<br>これをしないと、電源が切れると設定が失われてしまう。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">WS-C2960C-8TC-L#</span><span class="bash">copy running-config startup-config</span></span><br><span class="line">Destination filename [startup-config]? startup-config</span><br><span class="line">Building configuration...</span><br><span class="line">[OK]</span><br></pre></td></tr></table></figure>

<h2 id="Webインターフェースの有効化"><a href="#Webインターフェースの有効化" class="headerlink" title="Webインターフェースの有効化"></a>Webインターフェースの有効化</h2><p>特権 EXEC モード、グローバルコンフィグレーションモードに移行。<br><strong>ip http server</strong> と入力。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">WS-C2960C-8TC-L&gt;</span><span class="bash"><span class="built_in">enable</span></span></span><br><span class="line">Password:</span><br><span class="line"><span class="meta">WS-C2960C-8TC-L#</span><span class="bash">configure terminal</span></span><br><span class="line"><span class="meta">WS-C2960C-8TC-L#</span><span class="bash">ip http server</span></span><br></pre></td></tr></table></figure>

<p>ネットワークインターフェースに対してブラウザからアクセスする。<br>すると、BASIC 認証ダイアログが開くので、適当なユーザ名 (ユーザ名は考慮されない)、<strong>enable secret のパスワード</strong> を入力。</p>
<p><a href="../../../../public/2022/07/09/4446/003.png"><img src="../../../../public/2022/07/09/4446/003.png" alt="webui" title="webui"></a></p>
<p>古臭い…</p>
<h2 id="Webインターフェースの無効化"><a href="#Webインターフェースの無効化" class="headerlink" title="Webインターフェースの無効化"></a>Webインターフェースの無効化</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">WS-C2960C-8TC-L#</span><span class="bash">no ip http server</span></span><br></pre></td></tr></table></figure></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2022-07-09</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Cisco/" title="Cisco">Cisco </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://takuya-takeuchi.github.io/2022/07/09/4446/,A certain engineer &quot;COMPLEX&quot;,開発メモ その287 Cisco のルータを使ってみる,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2022/07/09/4447/" title="開発メモ その288 Catalyst 2960C シリーズスイッチ WS-C2960C-8TC-L の IOS を更新する">前へ</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2022/07/09/4445/" title="開発メモ その286 最上位ステートメント (top-level statements) を無効にする">次へ</a></li></ul></div></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/search.js"></script></body></html>