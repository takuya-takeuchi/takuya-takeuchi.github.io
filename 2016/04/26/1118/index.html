<!DOCTYPE html><html lang="ja-JP"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><link rel="icon" href="/images/favicon.ico" type="image/x-icon"><title>Xamarinメモ その8 TabbedPageを使ってみる · A certain engineer "COMPLEX"</title><meta name="description" content="前回はTimerを使ってみました。

Problemアプリを作る上で設定画面などを用意する上でタブは欠かせないです。UWPならPivotですね。XamarinではXamarin.Forms.TabbedPageが該当しますが、WPFのTabControlやUWPのPivotと異なり、それ自体がPag"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/blogcard.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.1.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.webp" style="width:127px;"><h3 title=""><a href="/">A certain engineer &quot;COMPLEX&quot;</a></h3><div class="description"><p>とある技術者の劣等感</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="https://twitter.com/takuya_takeuchi"><i class="fa fa-twitter-square"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.facebook.com/takuya.takeuchi.sns"><i class="fa fa-facebook-square"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="search"><div class="text"><input placeholder="検索ワードを入力してください" id="search-text" onkeypress="javascript:search(event)"></div><div class="btn"><a><i class="fa fa-search"></i></a></div></div><div class="nav"><li><a href="/">ホーム</a></li><li><a href="/archives">アーカイブ</a></li><li><a href="/tags">タグ</a></li><li><a href="/about">自己紹介</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Xamarinメモ その8 TabbedPageを使ってみる</a></h3></div><div class="post-content"><p><a target="_blank" rel="noopener" href="https://taktak.jp/2016/04/24/1115">前回</a>はTimerを使ってみました。</p>
<a id="more"></a>
<h1 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h1><p>アプリを作る上で設定画面などを用意する上でタブは欠かせないです。UWPならPivotですね。<br>Xamarinでは<a target="_blank" rel="noopener" href="https://developer.xamarin.com/api/type/Xamarin.Forms.TabbedPage/">Xamarin.Forms.TabbedPage</a>が該当しますが、WPFのTabControlやUWPのPivotと異なり、それ自体がPageの要素になります。<br>つまりTabControlやPivotと異なり、他の要素の子として追加できないようです。</p>
<blockquote>
<p>MultiPage`1 that displays an array of tabs across the top of the screen, each of which loads content onto the screen.</p>
</blockquote>
<p>訳:スクリーンのトップを横断するタブの配列を表示するMultiPage`1で、スクリーンに各ページがコンテンツをロードします。</p>
<p>とあります。<br>TabbedPageは<a target="_blank" rel="noopener" href="https://developer.xamarin.com/api/type/Xamarin.Forms.MultiPage%601/">MultiPage</a>の派生で、子要素は説明にあるとおり、Pageの派生クラスのみ追加できるようです。ですので、ContentPageやTabbedPageを追加できます。<br>注意事項として、</p>
<blockquote>
<p>The user interface of a tabbed page consists of a list of tabs and a larger detail area. On iOS, the list of tabs appears at the bottom of the screen, and the detail area is above. On Android and Windows phones, the tabs appear across the top of the screen. The user can scroll the collection of tabs that are across the top of the screen if that collection is too large to fit on one screen.</p>
</blockquote>
<p>訳:Tabbedページのユーザーインターフェイスはタブリストとより大きな詳細エリアから構成されます。iOSにおいては、スクリーンの下部にタブのリストが表示され、その上部に詳細エリアが表示されます。AndroidとWindows Phoneでは、タブはスクリーン上部に位置します。ユーザは、タブのコレクションがスクリーンにフィットするより大きい場合は、スクリーン上部に位置するタブのコレクションをスクロールできます。</p>
<p>つまり、タブの位置は変更できないようです。</p>
<p>とりあえずつかってみないことにはわかりません。<br>前回のストップウォッチにタブを加えてみます。</p>
<p>ソースは <a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi/Demo/tree/master/Xamarin.Forms.Portable3">https://github.com/takuya-takeuchi/Demo/tree/master/Xamarin.Forms.Portable3</a>です。</p>
<h1 id="Resolution"><a href="#Resolution" class="headerlink" title="Resolution"></a>Resolution</h1><p>特に難しいこともないのですが、Macでデバッグする際、Dockが邪魔をしてタブのテキストが見えなくなって、どうしてテキストが表示されないのか10分くらい悩みました。<br>画面の関係上、iPhone Simulatorが画面を大きく占める場合は、Dockを自動で隠す設定にした方が無難かもしれません。</p>
<p>まずはエントリポイントとなるメインのビューであるMainPageView。</p>
<p><strong>MainPageView.xaml</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot; ?&gt;</span><br><span class="line">&lt;TabbedPage x:Class&#x3D;&quot;Xamarin.Forms.Portable3.Views.MainPageView&quot;</span><br><span class="line">            xmlns&#x3D;&quot;http:&#x2F;&#x2F;xamarin.com&#x2F;schemas&#x2F;2014&#x2F;forms&quot;</span><br><span class="line">            xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2009&#x2F;xaml&quot;</span><br><span class="line">            xmlns:pages&#x3D;&quot;clr-namespace:Xamarin.Forms.Portable3.Views.Pages;assembly&#x3D;Xamarin.Forms.Portable3&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;TabbedPage.Children&gt;</span><br><span class="line">    &lt;pages:StopwatchPageView Title&#x3D;&quot;Stopwatch&quot; &#x2F;&gt;</span><br><span class="line">    &lt;ContentPage Title&#x3D;&quot;Timer&quot; &#x2F;&gt;</span><br><span class="line">    &lt;TabbedPage Title&#x3D;&quot;Many&quot;&gt;</span><br><span class="line">      &lt;TabbedPage.Children&gt;</span><br><span class="line">        &lt;ContentPage Title&#x3D;&quot;Test1&quot;&#x2F;&gt;</span><br><span class="line">        &lt;ContentPage Title&#x3D;&quot;Test2&quot;&#x2F;&gt;</span><br><span class="line">        &lt;ContentPage Title&#x3D;&quot;Test3&quot;&#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;TabbedPage.Children&gt;</span><br><span class="line">    &lt;&#x2F;TabbedPage&gt;</span><br><span class="line">  &lt;&#x2F;TabbedPage.Children&gt;</span><br><span class="line">&lt;&#x2F;TabbedPage&gt;</span><br></pre></td></tr></table></figure>

<p><strong>MainPageView.cs</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> Xamarin.Forms;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Xamarin.Forms.Portable3.Views</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">MainPageView</span> : <span class="title">TabbedPage</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MainPageView</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意するのは、ContentPageではなく、TabbedPageの派生クラスに変化したことです。<br>それ以外は、TabbedPageの子要素として、Pageの派生クラスを追加するだけです。<br>StopwatchPageViewは前回MainPage.xamlにあった内容を移動しただけです。タブの内容を別のビューとして切り出しただけです。<br>また、Childrenの三つめにTabbedPgaeを加えてタブを入れ子にしています。<br>実行すると下記のようになります。</p>
<p><a href="../../../../public/2016/04/1-11.png"><img src="../../../../public/2016/04/1-11-1024x819.png" alt="タブ"></a></p>
<p>タブがページ下部に….</p>
<p><a href="../../../../public/2016/04/2-9.png"><img src="../../../../public/2016/04/2-9-1024x819.png" alt="入れ子"></a></p>
<p>入れ子にもできます</p>
<p>このあたりも簡単ですね。<br>本当はViewModelsからDataTemplateSeclectorを使ってViewを切り替えたかったのですが、まだ未調査でした。<br>次回できたらいいなと思います。(<em>´ω｀</em>)ﾎｯｺﾘ</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>タブがあるかどうかでアプリがぐっと実用的になると思います。<br>特に設定画面などはタブのページで用意するのはテンプレと言ってもいいですし。<br>個人的には、タブは上にあった方が良いんですが、これはカスタマイズできるんでしょうか？</p>
<h1 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h1><p><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi/Demo/tree/master/Xamarin.Forms.Portable3">https://github.com/takuya-takeuchi/Demo/tree/master/Xamarin.Forms.Portable3</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2016-04-26</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Microsoft/" title="Microsoft">Microsoft </a><a class="tag" href="/categories/Microsoft/NET-Framework/" title=".NET Framework">.NET Framework </a><a class="tag" href="/categories/Microsoft/NET-Framework/C/" title="C#">C# </a><a class="tag" href="/categories/Xamarin/" title="Xamarin">Xamarin </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://takuya-takeuchi.github.io/2016/04/26/1118/,A certain engineer &quot;COMPLEX&quot;,Xamarinメモ その8 TabbedPageを使ってみる,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2016/04/27/1123/" title="Xamarinメモ その9 DataTemplateSelector+ViewModelで動的に可変タブを表現">前へ</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2016/04/24/1115/" title="Xamarinメモ その7 Timerを使ってみる">次へ</a></li></ul></div></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/search.js"></script></body></html>