<!DOCTYPE html><html lang="ja-JP"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Core"><link rel="icon" href="/images/favicon.ico" type="image/x-icon"><title>開発メモ その455 Microsoft Entra ID (旧称 Azure Active Directory) に authd を使って Ubuntu マシンにログインを参加させる · A certain engineer "COMPLEX"</title><meta name="description" content="Introduction前回 は Windows マシンを Entra ID に参加させた。今回は Ubuntu マシンを参加させてみる。ただし、結論としてドメインユーザでログインはできるが、マシンそのものを Entra ID の管理下に置くことはできない点に注意。
Description公式の I"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/blogcard.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 5.1.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.webp" style="width:127px;"><h3 title=""><a href="/">A certain engineer &quot;COMPLEX&quot;</a></h3><div class="description"><p>とある技術者の劣等感</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/takuya-takeuchi"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="https://twitter.com/takuya_takeuchi"><i class="fa fa-twitter-square"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.facebook.com/takuya.takeuchi.sns"><i class="fa fa-facebook-square"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2020 </span><i class="fa fa-star"></i><span> Core</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core  </a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="search"><div class="text"><input placeholder="検索ワードを入力してください" id="search-text" onkeypress="javascript:search(event)"></div><div class="btn"><a><i class="fa fa-search"></i></a></div></div><div class="nav"><li><a href="/">ホーム</a></li><li><a href="/archives">アーカイブ</a></li><li><a href="/apps">Apps</a></li><li><a href="/about">自己紹介</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>開発メモ その455 Microsoft Entra ID (旧称 Azure Active Directory) に authd を使って Ubuntu マシンにログインを参加させる</a></h3></div><div class="post-content"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p><a target="_blank" rel="noopener" href="https://taktak.jp/2025/08/11/4559/">前回</a> は Windows マシンを <strong>Entra ID</strong> に参加させた。<br>今回は Ubuntu マシンを参加させてみる。<br>ただし、結論としてドメインユーザでログインはできるが、マシンそのものを <strong>Entra ID</strong> の管理下に置くことはできない点に注意。</p>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>公式の <a target="_blank" rel="noopener" href="https://documentation.ubuntu.com/authd/stable/howto/install-authd/">Install authd and brokers for cloud identity providers</a> を参考にする。</p>
<p>検証環境は</p>
<ul>
<li>Ubuntu 24.04 LTS</li>
</ul>
<h3 id="1-authd-のインストール"><a href="#1-authd-のインストール" class="headerlink" title="1. authd のインストール"></a>1. authd のインストール</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo add-apt-repository ppa:ubuntu-enterprise-desktop/authd &amp;&amp; sudo apt update</span><br><span class="line">$ sudo apt install -y authd gnome-shell yaru-theme-gnome-shell</span><br></pre></td></tr></table></figure>

<h3 id="2-identity-broker-のインストール"><a href="#2-identity-broker-のインストール" class="headerlink" title="2. identity broker のインストール"></a>2. identity broker のインストール</h3><p><strong>identity broker</strong> とは認証プロバイダ (identity provider) とのインターフェースを提供するサービス。<br><strong>Google IAM</strong> と <strong>Microsoft Entra ID</strong> のタブがあるので後者を選択。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo snap install authd-msentraid</span><br></pre></td></tr></table></figure>

<h3 id="3-authd-の設定準備"><a href="#3-authd-の設定準備" class="headerlink" title="3. authd の設定準備"></a>3. authd の設定準備</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkdir -p /etc/authd/brokers.d/</span><br><span class="line">$ sudo cp /snap/authd-msentraid/current/conf/authd/msentraid.conf /etc/authd/brokers.d/</span><br></pre></td></tr></table></figure>

<h3 id="4-アプリケーションの登録"><a href="#4-アプリケーションの登録" class="headerlink" title="4. アプリケーションの登録"></a>4. アプリケーションの登録</h3><p><strong>identity broker</strong> を <strong>OAuth 2.0</strong> アプリケーションとして <strong>Entra ID</strong> に登録していく。</p>
<p><strong>Azure ポータル</strong> から <strong>Microsoft Entra 管理センター</strong> に進み、<strong>アプリの管理</strong> を押下。</p>
<p><a href="../../../../public/2025/08/11/4560/entra-menu.png"><img src="../../../../public/2025/08/11/4560/entra-menu.png" alt="Application Registration"></a></p>
<p><strong>新規登録</strong> を押下。</p>
<p><a href="../../../../public/2025/08/11/4560/entra-appreg.png"><img src="../../../../public/2025/08/11/4560/entra-appreg.png" alt="Application Registration"></a></p>
<p><strong>名前</strong> を入力 (何でもよい)、<strong>この組織ディレクトリのみに含まれるアカウント (XXXX YYYY のみ - シングルテナント)</strong> を選択し、<strong>登録</strong> を押下。</p>
<p><a href="../../../../public/2025/08/11/4560/entra-appreg2.png"><img src="../../../../public/2025/08/11/4560/entra-appreg2.png" alt="Application Registration"></a></p>
<p>アプリケーションが作成される<br><strong>アプリケーション (クライアント) ID</strong> は <strong><CLIENT_ID>**、</strong>ディレクトリ (テナント) ID** は <strong><ISSUER_ID></strong> と、後述の設定ファイルの編集の際に使用するのでメモしておく。</p>
<p>次に <strong>API アクセス許可</strong> を押下。</p>
<p><a href="../../../../public/2025/08/11/4560/entra-app.png"><img src="../../../../public/2025/08/11/4560/entra-app.png" alt="Application Registration"></a></p>
<p><strong>アクセス許可の追加</strong> を押下</p>
<p><a href="../../../../public/2025/08/11/4560/entra-api-permission1.png"><img src="../../../../public/2025/08/11/4560/entra-api-permission1.png" alt="API Permissions"></a></p>
<p><strong>Microsoft Graph</strong> を押下</p>
<p><a href="../../../../public/2025/08/11/4560/entra-api-permission2.png"><img src="../../../../public/2025/08/11/4560/entra-api-permission2.png" alt="API Permissions"></a></p>
<p><strong>委任されたアクセスの許可</strong> を押下</p>
<p><a href="../../../../public/2025/08/11/4560/entra-api-permission3.png"><img src="../../../../public/2025/08/11/4560/entra-api-permission3.png" alt="API Permissions"></a></p>
<p><strong>OpenID アクセス許可</strong> 内の <strong>openid</strong> をチェック</p>
<p><a href="../../../../public/2025/08/11/4560/entra-api-permission4.png"><img src="../../../../public/2025/08/11/4560/entra-api-permission4.png" alt="API Permissions"></a></p>
<p><strong>GroupMember</strong> 内の <strong>GroupMember.ReadAll</strong> をチェックして、<strong>アクセス許可の追加</strong> を押下</p>
<p><a href="../../../../public/2025/08/11/4560/entra-api-permission5.png"><img src="../../../../public/2025/08/11/4560/entra-api-permission5.png" alt="API Permissions"></a></p>
<p><strong>Authentication (Preview)</strong> を押下</p>
<p><a href="../../../../public/2025/08/11/4560/entra-api-permission6.png"><img src="../../../../public/2025/08/11/4560/entra-api-permission6.png" alt="API Permissions"></a></p>
<p>ここでバグなのか、<strong>保存</strong> ボタンが見当たらないため、画面上部の <strong>Welcome to the new and improved experience for authentication. To switch to the old experience, please click here.</strong> に従い、古い UI に変更する。<br>そして、<strong>パブリック クライアント フローを許可する</strong> トグルを <strong>有効</strong> に変更して <strong>保存</strong> ボタンを押下。</p>
<p><a href="../../../../public/2025/08/11/4560/entra-api-permission7.png"><img src="../../../../public/2025/08/11/4560/entra-api-permission7.png" alt="API Permissions"></a></p>
<h3 id="5-broker-の設定"><a href="#5-broker-の設定" class="headerlink" title="5. broker の設定"></a>5. broker の設定</h3><p><code>/var/snap/authd-msentraid/current/broker.conf</code> を編集。<br>初期設定が下記になっている。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[oidc]</span><br><span class="line">issuer = https://login.microsoftonline.com/&lt;ISSUER_ID&gt;/v2.0</span><br><span class="line">client_id = &lt;CLIENT_ID&gt;</span><br><span class="line"># force_provider_authentication = false</span><br></pre></td></tr></table></figure>

<p>下記のように編集していく (GUID の値は適当)。</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  [oidc]</span><br><span class="line"><span class="deletion">- issuer = https://login.microsoftonline.com/&lt;ISSUER_ID&gt;/v2.0</span></span><br><span class="line"><span class="addition">+ issuer = https://login.microsoftonline.com/64b4f7aa-19f2-4d54-ba34-c6b21dd181b8/v2.0</span></span><br><span class="line"><span class="deletion">- client_id = &lt;CLIENT_ID&gt;</span></span><br><span class="line"><span class="addition">+ client_id = 64b4f7aa-19f2-4d54-ba34-c6b21dd181b8</span></span><br><span class="line"><span class="deletion">- # force_provider_authentication = false</span></span><br><span class="line"><span class="addition">+ force_provider_authentication = false</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong><CLIENT_ID></strong> は <strong>アプリケーション (クライアント) ID</strong></li>
<li><strong><ISSUER_ID></strong> は <strong>ディレクトリ (テナント) ID</strong></li>
</ul>
<p>になるため、登録したアプリの概要画面で再度確認しておく。</p>
<h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><ul>
<li><strong><CLIENT_ID></strong> と <strong><ISSUER_ID></strong> を逆に入力すると、ログイン時に <strong>Microsoft Entra ID</strong> を選択しても何も起こらず、困ることになるので要注意 (戒め)</li>
<li><code>force_provider_authentication</code> を <code>true</code> にすると、インターネットへの接続に問題があるときログインができなくなる可能性があるので注意。</li>
</ul>
<h3 id="6-許可されたユーザーを設定する"><a href="#6-許可されたユーザーを設定する" class="headerlink" title="6. 許可されたユーザーを設定する"></a>6. 許可されたユーザーを設定する</h3><p>マシンを利用する利用者や所有者を制御する場合の設定。<br>自分は特に必要ではなかったので省略。</p>
<p>参考: <a target="_blank" rel="noopener" href="https://documentation.ubuntu.com/authd/stable/howto/configure-authd/#configure-allowed-users">許可されたユーザーを設定する</a></p>
<h3 id="7-設定の反映"><a href="#7-設定の反映" class="headerlink" title="7. 設定の反映"></a>7. 設定の反映</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl restart authd</span><br></pre></td></tr></table></figure>

<p>ブローカーの構成が更新された場合は、ブローカーを再起動する必要もあります。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo snap restart authd-msentraid</span><br></pre></td></tr></table></figure>

<h3 id="8-GUI-からドメインユーザでログイン"><a href="#8-GUI-からドメインユーザでログイン" class="headerlink" title="8. GUI からドメインユーザでログイン"></a>8. GUI からドメインユーザでログイン</h3><p>ログイン画面に移動し、<strong>Not listed?</strong> を選択</p>
<p><a href="../../../../public/2025/08/11/4560/login.png"><img src="../../../../public/2025/08/11/4560/login.png" alt="Login"></a></p>
<p>ドメインユーザのメールアドレスを入力し <strong>Enter</strong> を押下</p>
<p><a href="../../../../public/2025/08/11/4560/login2.png"><img src="../../../../public/2025/08/11/4560/login2.png" alt="Login"></a></p>
<p>ブローカーの選択が表示されるので <strong>Microsoft Entra ID</strong> を選択</p>
<p><a href="../../../../public/2025/08/11/4560/login3.png"><img src="../../../../public/2025/08/11/4560/login3.png" alt="Login"></a></p>
<p>QR コードが表示されるのでスマートフォンのカメラで認識しブラウザを開くか、<strong><a target="_blank" rel="noopener" href="https://microsoft.com/devicelogin">https://microsoft.com/devicelogin</a></strong> に手動でアクセス。<br>(Microsoft Authenticator の QR コードスキャンではない点に注意)</p>
<p><a href="../../../../public/2025/08/11/4560/login4.png"><img src="../../../../public/2025/08/11/4560/login4.png" alt="Login"></a></p>
<p>先の画面の <strong>Login code</strong> を入力</p>
<p><a href="../../../../public/2025/08/11/4560/login5.png"><img src="../../../../public/2025/08/11/4560/login5.png" alt="Login"></a></p>
<p>再度、ドメインユーザのメールアドレスを入力</p>
<p><a href="../../../../public/2025/08/11/4560/login6.png"><img src="../../../../public/2025/08/11/4560/login6.png" alt="Login"></a></p>
<p>ドメインユーザのパスワードを入力</p>
<p><a href="../../../../public/2025/08/11/4560/login7.png"><img src="../../../../public/2025/08/11/4560/login7.png" alt="Login"></a></p>
<p>MFA 認証が行われるので適宜対処</p>
<p><a href="../../../../public/2025/08/11/4560/login8.png"><img src="../../../../public/2025/08/11/4560/login8.png" alt="Login"></a></p>
<p><strong>承諾</strong> を押下</p>
<p><a href="../../../../public/2025/08/11/4560/login9.png"><img src="../../../../public/2025/08/11/4560/login9.png" alt="Login"></a></p>
<p>ブラウザを閉じてログイン画面に戻る</p>
<p><a href="../../../../public/2025/08/11/4560/login11.png"><img src="../../../../public/2025/08/11/4560/login11.png" alt="Login"></a></p>
<p>オフライン時のためのパスワードを作成</p>
<p><a href="../../../../public/2025/08/11/4560/login12.png"><img src="../../../../public/2025/08/11/4560/login12.png" alt="Login"></a></p>
<p>もし、辞書にあるような単純なパスワードを使用するとエラーになるのでやり直し</p>
<p><a href="../../../../public/2025/08/11/4560/login13.png"><img src="../../../../public/2025/08/11/4560/login13.png" alt="Login"></a></p>
<p>パスワード作成後は、OS 新規インストールのツアーガイドが表示され、いつも通りのデスクトップが表示される。<br>ターミナルから <code>whoami</code> や <code>echo $HOME</code> を実行するとドメインユーザであり、対応したホームディレクトリが生成されていることがわかる。</p>
<p><a href="../../../../public/2025/08/11/4560/login14.png"><img src="../../../../public/2025/08/11/4560/login14.png" alt="Login"></a></p>
<p>以上でドメインユーザでのログインまでが完了した。</p>
<p>冒頭に上げたように、<code>authd</code> を使っても、 <strong>Entra ID</strong> の管理デバイス対象にはならない点には注意が必要。<br><strong>Microsoft Entra 管理センター</strong> でデバイス一覧を確認してもデバイスが増えていないことからも分かる。</p>
<h3 id="9-SSH-からドメインユーザでログイン"><a href="#9-SSH-からドメインユーザでログイン" class="headerlink" title="9. SSH からドメインユーザでログイン"></a>9. SSH からドメインユーザでログイン</h3><p>事前に準備が必要。<br><code>/etc/ssh/sshd_config.d/authd.conf</code> を作成し下記を記載。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UsePAM yes</span><br><span class="line">KbdInteractiveAuthentication yes</span><br></pre></td></tr></table></figure>

<p>設定を反映するために ssh デーモンを再起動</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl restart ssh</span><br></pre></td></tr></table></figure>

<p>SSH でログインしてみる。<br>IPの前に普通にユーザ名とドメインを結合した値をユーザとして指定するだけで特別なことは無い。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">ssh -t-takeuchi@hogehoge.jp@192.168.11.35</span><br><span class="line">== Local Password Authentication ==</span><br><span class="line">Enter <span class="string">&#x27;r&#x27;</span> to cancel the request and go back to select the authentication method</span><br><span class="line">(t-takeuchi@hogehoge.jp@192.168.11.35) Enter your <span class="built_in">local</span> password:</span><br><span class="line">&gt;</span><br><span class="line">== Authentication method selection ==</span><br><span class="line">  1. Local Password Authentication</span><br><span class="line">  2. Device Authentication</span><br><span class="line">Or enter <span class="string">&#x27;r&#x27;</span> to go back to choose the provider</span><br><span class="line">(t-takeuchi@hogehoge.jp@192.168.11.35) Choose your authentication method:</span><br><span class="line">&gt; 2</span><br><span class="line">== Device Authentication ==</span><br><span class="line">Access <span class="string">&quot;https://microsoft.com/devicelogin&quot;</span> and use the provided login code</span><br><span class="line">https://microsoft.com/devicelogin</span><br><span class="line">            NRWPY264Y</span><br><span class="line"></span><br><span class="line">  1. Wait <span class="keyword">for</span> authentication result</span><br><span class="line">  2. Request new login code</span><br><span class="line">Or enter <span class="string">&#x27;r&#x27;</span> to go back to select the authentication method</span><br><span class="line">(t-takeuchi@hogehoge.jp@192.168.11.35) Choose action:</span><br><span class="line">&gt; 1</span><br><span class="line">== Define your <span class="built_in">local</span> password ==</span><br><span class="line">Enter <span class="string">&#x27;r&#x27;</span> to cancel the request and go back to choose the provider</span><br><span class="line">(t-takeuchi@hogehoge.jp@192.168.11.35) Create a <span class="built_in">local</span> password:</span><br><span class="line">&gt;</span><br><span class="line">(t-takeuchi@hogehoge.jp@192.168.11.35) Confirm Password:</span><br><span class="line">&gt;</span><br><span class="line">Welcome to Ubuntu 24.04 LTS (GNU/Linux 6.14.0-27-generic x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com</span><br><span class="line"> * Management:     https://landscape.canonical.com</span><br><span class="line"> * Support:        https://ubuntu.com/pro</span><br><span class="line"></span><br><span class="line">1 device has a firmware upgrade available.</span><br><span class="line">Run `fwupdmgr get-upgrades` <span class="keyword">for</span> more information.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Expanded Security Maintenance <span class="keyword">for</span> Applications is not enabled.</span><br><span class="line"></span><br><span class="line">261 updates can be applied immediately.</span><br><span class="line">1 of these updates is a standard security update.</span><br><span class="line">To see these additional updates run: apt list --upgradable</span><br><span class="line"></span><br><span class="line">Enable ESM Apps to receive additional future security updates.</span><br><span class="line">See https://ubuntu.com/esm or run: sudo pro status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1 updates could not be installed automatically. For more details,</span><br><span class="line">see /var/<span class="built_in">log</span>/unattended-upgrades/unattended-upgrades.log</span><br><span class="line"></span><br><span class="line">The programs included with the Ubuntu system are free software;</span><br><span class="line">the exact distribution terms <span class="keyword">for</span> each program are described <span class="keyword">in</span> the</span><br><span class="line">individual files <span class="keyword">in</span> /usr/share/doc/*/copyright.</span><br><span class="line"></span><br><span class="line">Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by</span><br><span class="line">applicable law.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1 device has a firmware upgrade available.</span><br><span class="line">Run `fwupdmgr get-upgrades` <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure>

<p>注意するのは <code>Choose action</code> と聞かれた際に、 <code>1</code> を入力してから認証をしないと認証に失敗してしまう点にある。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2025-08-11</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Microsoft/" title="Microsoft">Microsoft </a><a class="tag" href="/categories/Microsoft/Entra-ID/" title="Entra ID">Entra ID </a><a class="tag" href="/categories/Microsoft/Entra-ID/Ubuntu/" title="Ubuntu">Ubuntu </a><a class="tag" href="/categories/Microsoft/Entra-ID/Ubuntu/authd/" title="authd">authd </a><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://takuya-takeuchi.github.io/2025/08/11/4560/,A certain engineer &quot;COMPLEX&quot;,開発メモ その455 Microsoft Entra ID (旧称 Azure Active Directory) に authd を使って Ubuntu マシンにログインを参加させる,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/2025/08/11/4559/" title="開発メモ その454 Microsoft Entra ID (旧称 Azure Active Directory) に参加する">次へ</a></li></ul></div></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/search.js"></script></body></html>